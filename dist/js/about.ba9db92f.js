(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"04ce":function(e,t,n){},"065d":function(e,t,n){"use strict";var i=n("04ce"),r=n.n(i);r.a},"1c4c":function(e,t,n){"use strict";var i=n("9b43"),r=n("5ca1"),o=n("4bf8"),s=n("1fa8"),a=n("33a4"),c=n("9def"),d=n("f1ae"),u=n("27ee");r(r.S+r.F*!n("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,f,l=o(e),p="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,g=0,y=u(l);if(v&&(h=i(h,m>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(t=c(l.length),n=new p(t);t>g;g++)d(n,g,v?h(l[g],g):l[g]);else for(f=y.call(l),n=new p;!(r=f.next()).done;g++)d(n,g,v?s(f,h,[r.value,g],!0):r.value);return n.length=g,n}})},"1fb5":function(e,t,n){"use strict";t.byteLength=u,t.toByteArray=l,t.fromByteArray=h;for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function u(e){var t=d(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function f(e,t,n){return 3*(t+n)/4-n}function l(e){for(var t,n=d(e),i=n[0],s=n[1],a=new o(f(e,i,s)),c=0,u=s>0?i-4:i,l=0;l<u;l+=4)t=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,a[c++]=255&t),1===s&&(t=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a}function p(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function m(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(p(i));return r.join("")}function h(e){for(var t,n=e.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(m(e,a,a+s>c?c:a+s));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"28a5":function(e,t,n){"use strict";var i=n("aae3"),r=n("cb7c"),o=n("ebd6"),s=n("0390"),a=n("9def"),c=n("5f1b"),d=n("520a"),u=n("79e5"),f=Math.min,l=[].push,p="split",m="length",h="lastIndex",v=4294967295,g=!u(function(){RegExp(v,"y")});n("214f")("split",2,function(e,t,n,u){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[m]||2!="ab"[p](/(?:ab)*/)[m]||4!="."[p](/(.?)(.?)/)[m]||"."[p](/()()/)[m]>1||""[p](/.?/)[m]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(r,e,t);var o,s,a,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?v:t>>>0,g=new RegExp(e.source,u+"g");while(o=d.call(g,r)){if(s=g[h],s>f&&(c.push(r.slice(f,o.index)),o[m]>1&&o.index<r[m]&&l.apply(c,o.slice(1)),a=o[0][m],f=s,c[m]>=p))break;g[h]===o.index&&g[h]++}return f===r[m]?!a&&g.test("")||c.push(""):c.push(r.slice(f)),c[m]>p?c.slice(0,p):c}:"0"[p](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,i):y.call(String(r),n,i)},function(e,t){var i=u(y,e,this,t,y!==n);if(i.done)return i.value;var d=r(e),l=String(this),p=o(d,RegExp),m=d.unicode,h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),w=new p(g?d:"^(?:"+d.source+")",h),b=void 0===t?v:t>>>0;if(0===b)return[];if(0===l.length)return null===c(w,l)?[l]:[];var S=0,R=0,C=[];while(R<l.length){w.lastIndex=g?R:0;var E,k=c(w,g?l:l.slice(R));if(null===k||(E=f(a(w.lastIndex+(g?0:R)),l.length))===S)R=s(l,R,m);else{if(C.push(l.slice(S,R)),C.length===b)return C;for(var A=1;A<=k.length-1;A++)if(C.push(k[A]),C.length===b)return C;R=S=E}}return C.push(l.slice(S)),C}]})},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386d":function(e,t,n){"use strict";var i=n("cb7c"),r=n("83a1"),o=n("5f1b");n("214f")("search",1,function(e,t,n,s){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(n,e,this);if(t.done)return t.value;var a=i(e),c=String(this),d=a.lastIndex;r(d,0)||(a.lastIndex=0);var u=o(a,c);return r(a.lastIndex,d)||(a.lastIndex=d),null===u?-1:u.index}]})},4917:function(e,t,n){"use strict";var i=n("cb7c"),r=n("9def"),o=n("0390"),s=n("5f1b");n("214f")("match",1,function(e,t,n,a){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=a(n,e,this);if(t.done)return t.value;var c=i(e),d=String(this);if(!c.global)return s(c,d);var u=c.unicode;c.lastIndex=0;var f,l=[],p=0;while(null!==(f=s(c,d))){var m=String(f[0]);l[p]=m,""===m&&(c.lastIndex=o(d,r(c.lastIndex),u)),p++}return 0===p?null:l}]})},"5df3":function(e,t,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},"6b54":function(e,t,n){"use strict";n("3846");var i=n("cb7c"),r=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],c=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):a.name!=s&&c(function(){return a.call(this)})},"7f7f":function(e,t,n){var i=n("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||n("9e1e")&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},9152:function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,d=c>>1,u=-7,f=n?r-1:0,l=n?-1:1,p=e[t+f];for(f+=l,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+f],f+=l,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+f],f+=l,u-=8);if(0===o)o=1-d;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=d}return(p?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,c,d=8*o-r-1,u=(1<<d)-1,f=u>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,m=i?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+f>=1?l/c:l*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*c-1)*Math.pow(2,r),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,r),s=0));r>=8;e[n+p]=255&a,p+=m,a/=256,r-=8);for(s=s<<r|a,d+=r;d>0;e[n+p]=255&s,p+=m,s/=256,d-=8);e[n+p-m]|=128*h}},"978b":function(e,t,n){"use strict";(function(e){(function(){function t(){var e=this,t=new n;e.chunks={},e.users={},e.readAsArrayBuffer=function(n,i,r){var o={file:n,earlyCallback:function(e){i(s(e,{currentPosition:-1}))},extra:r||{userid:0}};n.extra&&Object.keys(n.extra).length&&Object.keys(n.extra).forEach(function(e){o.extra[e]=n.extra[e]}),t.readAsArrayBuffer(e,o)},e.getNextChunk=function(t,n,i){var r;"undefined"!==typeof t.currentPosition&&(r=t.currentPosition,t=t.uuid);var o=e.chunks[t];if(o){"undefined"!==typeof i?(e.users[i+""]||(e.users[i+""]={fileUUID:t,userid:i,currentPosition:-1}),"undefined"!==typeof r&&(e.users[i+""].currentPosition=r),e.users[i+""].currentPosition++,r=e.users[i+""].currentPosition):("undefined"!==typeof r&&(e.chunks[t].currentPosition=r),e.chunks[t].currentPosition++,r=e.chunks[t].currentPosition);var a=o[r];if(!a)return delete e.chunks[t],void e.convertToArrayBuffer({chunkMissing:!0,currentPosition:r,uuid:t},n);a=s(a),"undefined"!==typeof i&&(a.remoteUserId=i+""),a.start&&e.onBegin(a),a.end&&e.onEnd(a),e.onProgress(a),e.convertToArrayBuffer(a,function(e){a.currentPosition!=a.maxChunks?n(e,!1):n(e,!0)})}};var i=new r(e);function s(e,t){if(null==e||"object"!=typeof e)return e;if(e.constructor!=Object&&e.constructor!=Array)return e;if(e.constructor==Date||e.constructor==RegExp||e.constructor==Function||e.constructor==String||e.constructor==Number||e.constructor==Boolean)return new e.constructor(e);for(var n in t=t||new e.constructor,e)t[n]="undefined"==typeof t[n]?s(e[n],null):t[n];return t}e.addChunk=function(t,n){t&&i.receive(t,function(t){e.convertToArrayBuffer({readyForNextChunk:!0,currentPosition:t.currentPosition,uuid:t.uuid},n)})},e.chunkMissing=function(e){delete i.chunks[e.uuid],delete i.chunksWaiters[e.uuid]},e.onBegin=function(){},e.onEnd=function(){},e.onProgress=function(){},e.convertToObject=o.ConvertToObject,e.convertToArrayBuffer=o.ConvertToArrayBuffer,e.setMultipleUsers=function(){}}function n(){var e=this;function t(e,t){t=t||function(e){postMessage(e)};var n=e.file;n.uuid||(n.uuid=(100*Math.random()).toString().replace(/\./g,""));var i=e.chunkSize||15e3;e.extra&&e.extra.chunkSize&&(i=e.extra.chunkSize);var r,o=0,s=i,a=Math.floor(Math.min(1e8,s)/i),c=a*i,d=Math.ceil(n.size/i);n.maxChunks=d;var u=0,f=[];t({currentPosition:u,uuid:n.uuid,maxChunks:d,size:n.size,name:n.name,type:n.type,lastModifiedDate:(n.lastModifiedDate||new Date).toString(),start:!0});var l,p=new FileReader;function m(e,o,s){r=Math.ceil(o.byteLength/i);for(var a=0;a<r;a++){var c=a*i;f[u]=o.slice(c,Math.min(c+i,o.byteLength)),t({uuid:n.uuid,buffer:f[u],currentPosition:u,maxChunks:d,size:n.size,name:n.name,lastModifiedDate:(n.lastModifiedDate||new Date).toString(),type:n.type}),u++}u==d&&!0,s()}p.onloadend=function(e){e.target.readyState==FileReader.DONE&&m(n.name,e.target.result,function(){o++,(o+1)*c<n.size?(l=n.slice(o*c,(o+1)*c),p.readAsArrayBuffer(l)):o*c<n.size?(l=n.slice(o*c,n.size),p.readAsArrayBuffer(l)):(n.url=URL.createObjectURL(n),t({currentPosition:u,uuid:n.uuid,maxChunks:d,size:n.size,name:n.name,lastModifiedDate:(n.lastModifiedDate||new Date).toString(),url:URL.createObjectURL(n),type:n.type,end:!0}))})},u+=1,l=n.slice(o*c,(o+1)*c),p.readAsArrayBuffer(l)}e.readAsArrayBuffer=function(e,n){var i=n.earlyCallback;function r(t){e.chunks[t.uuid]||(e.chunks[t.uuid]={currentPosition:-1}),n.extra=n.extra||{userid:0},t.userid=n.userid||n.extra.userid||0,t.extra=n.extra,e.chunks[t.uuid][t.currentPosition]=t,t.end&&i&&(i(t.uuid),i=null),t.maxChunks>200&&200==t.currentPosition&&i&&(i(t.uuid),i=null)}delete n.earlyCallback,t(n,r)}}function i(){var e=this,t=function(){};function n(n,r,o){n=n||function(){};var s=document.createElement("input");s.type="file",r&&(s.multiple=!0),o&&(s.webkitdirectory=!0),s.accept=e.accept,s.onclick=function(){s.clickStarted=!0},document.body.onfocus=function(){setTimeout(function(){s.clickStarted&&(s.clickStarted=!1,s.value||t())},500)},s.onchange=function(){if(r){if(!s.files.length)return void console.error("No file selected.");var e=[];return Array.from(s.files).forEach(function(t){t.url=t.webkitRelativePath,e.push(t)}),void n(e)}s.files[0]?(n(s.files[0]),s.parentNode.removeChild(s)):console.error("No file selected.")},s.style.display="none",(document.body||document.documentElement).appendChild(s),i(s)}function i(e){if("function"!==typeof e.click)if("function"!==typeof e.change){if("undefined"!==typeof document.createEvent("Event")){var t=document.createEvent("Event");if("function"===typeof t.initEvent&&"function"===typeof e.dispatchEvent)return t.initEvent("click",!0,!0),void e.dispatchEvent(t)}t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(t)}else e.change();else e.click()}e.selectSingleFile=function(e,i){i&&(t=i),n(e)},e.selectMultipleFiles=function(e,i){i&&(t=i),n(e,!0)},e.selectDirectory=function(e,i){i&&(t=i),n(e,!0,!0)},e.accept="*.*"}function r(e){var t=this;function n(i,r){if(i.uuid){if(i.start&&!t.chunks[i.uuid]&&(t.chunks[i.uuid]={},e.onBegin&&e.onBegin(i)),!i.end&&i.buffer&&(t.chunks[i.uuid][i.currentPosition]=i.buffer),i.end){var o=t.chunks[i.uuid],a=[];Object.keys(o).forEach(function(e,t){a.push(o[e])});var c=new Blob(a,{type:i.type});c=s(c,i),c.url=URL.createObjectURL(c),c.uuid=i.uuid,c.size||console.error("Something went wrong. Blob Size is 0."),e.onEnd&&e.onEnd(c),delete t.chunks[i.uuid],delete t.chunksWaiters[i.uuid]}i.buffer&&e.onProgress&&e.onProgress(i),i.end||(r(i),t.chunksWaiters[i.uuid]=function(){function e(){i.buffer&&t.chunks[i.uuid]&&(i.currentPosition==i.maxChunks||t.chunks[i.uuid][i.currentPosition]||(r(i),setTimeout(e,5e3)))}setTimeout(e,5e3)},t.chunksWaiters[i.uuid]())}else e.convertToObject(i,function(e){n(e)})}t.chunks={},t.chunksWaiters={},t.receive=n}var o={ConvertToArrayBuffer:function(e,t){C.pack(e,function(e){t(e.buffer)})},ConvertToObject:function(e,t){C.unpack(e,t)}};function s(e,t){if(e||(e={}),!t)return e;for(var n in t)try{e[n]=t[n]}catch(i){}return e}var a=!1,c=!1,d=!0,u=Uint8Array.BYTES_PER_ELEMENT,f=Uint16Array.BYTES_PER_ELEMENT,l=Uint32Array.BYTES_PER_ELEMENT,p={NULL:0,UNDEFINED:1,STRING:2,NUMBER:3,BOOLEAN:4,ARRAY:5,OBJECT:6,INT8ARRAY:7,INT16ARRAY:8,INT32ARRAY:9,UINT8ARRAY:10,UINT16ARRAY:11,UINT32ARRAY:12,FLOAT32ARRAY:13,FLOAT64ARRAY:14,ARRAYBUFFER:15,BLOB:16,FILE:16,BUFFER:17};if(a)var m=["NULL","UNDEFINED","STRING","NUMBER","BOOLEAN","ARRAY","OBJECT","INT8ARRAY","INT16ARRAY","INT32ARRAY","UINT8ARRAY","UINT16ARRAY","UINT32ARRAY","FLOAT32ARRAY","FLOAT64ARRAY","ARRAYBUFFER","BLOB","BUFFER"];var h=[null,null,"Uint16","Float64","Uint8",null,null,"Int8","Int16","Int32","Uint8","Uint16","Uint32","Float32","Float64","Uint8","Uint8","Uint8"],v=function(e,t,n){var i=[],r=c,o=40;i[0]=[];for(var s=0;s<o;s++)i[0][s]=s<10?"0"+s.toString(10):s.toString(10);for(s=0;s<n;s++){var a=e.getUint8(t+s,r),d=1+~~(s/o);"undefined"===typeof i[d]&&(i[d]=[]),i[d][s%o]=a<16?"0"+a.toString(16):a.toString(16)}for(console.log("%c"+i[0].join(" "),"font-weight: bold;"),s=1;s<i.length;s++)console.log(i[s].join(" "))},g=function(t){var n=void 0;if(void 0===t)n=p.UNDEFINED;else if(null===t)n=p.NULL;else{var i=t.constructor.name,r=t.constructor.toString().match(/\w+/g)[1];if(void 0!==i&&void 0!==p[i.toUpperCase()])n=p[i.toUpperCase()];else if(void 0!==r&&void 0!==p[r.toUpperCase()])n=p[r.toUpperCase()];else switch(typeof t){case"string":n=p.STRING;break;case"number":n=p.NUMBER;break;case"boolean":n=p.BOOLEAN;break;case"object":t instanceof Array?n=p.ARRAY:t instanceof Int8Array?n=p.INT8ARRAY:t instanceof Int16Array?n=p.INT16ARRAY:t instanceof Int32Array?n=p.INT32ARRAY:t instanceof Uint8Array?n=p.UINT8ARRAY:t instanceof Uint16Array?n=p.UINT16ARRAY:t instanceof Uint32Array?n=p.UINT32ARRAY:t instanceof Float32Array?n=p.FLOAT32ARRAY:t instanceof Float64Array?n=p.FLOAT64ARRAY:t instanceof ArrayBuffer?n=p.ARRAYBUFFER:t instanceof Blob?n=p.BLOB:t instanceof e?n=p.BUFFER:t instanceof Object&&(n=p.OBJECT);break;default:break}}return n},y=function(e){var t=0,n=0,i=0,r=c,o=new ArrayBuffer(e[0].byte_length+e[0].header_size),s=new DataView(o);for(n=0;n<e.length;n++){var d=t,g=e[n].header_size,y=e[n].type,w=e[n].length,b=e[n].value,S=e[n].byte_length,R=h[y],C=null===R?0:window[R+"Array"].BYTES_PER_ELEMENT;switch(y===p.BUFFER?s.setUint8(t,p.BLOB,r):s.setUint8(t,y,r),t+=u,a&&console.info("Packing",y,m[y]),y!==p.ARRAY&&y!==p.OBJECT||(s.setUint16(t,w,r),t+=f,a&&console.info("Content Length",w)),s.setUint32(t,S,r),t+=l,a&&(console.info("Header Size",g,"bytes"),console.info("Byte Length",S,"bytes")),y){case p.NULL:case p.UNDEFINED:break;case p.STRING:for(a&&console.info('Actual Content %c"'+b+'"',"font-weight:bold;"),i=0;i<w;i++,t+=C)s.setUint16(t,b.charCodeAt(i),r);break;case p.NUMBER:case p.BOOLEAN:a&&console.info("%c"+b.toString(),"font-weight:bold;"),s["set"+R](t,b,r),t+=C;break;case p.INT8ARRAY:case p.INT16ARRAY:case p.INT32ARRAY:case p.UINT8ARRAY:case p.UINT16ARRAY:case p.UINT32ARRAY:case p.FLOAT32ARRAY:case p.FLOAT64ARRAY:var E=new Uint8Array(s.buffer,t,S);E.set(new Uint8Array(b.buffer)),t+=S;break;case p.ARRAYBUFFER:case p.BUFFER:E=new Uint8Array(s.buffer,t,S);E.set(new Uint8Array(b)),t+=S;break;case p.BLOB:case p.ARRAY:case p.OBJECT:break;default:throw"TypeError: Unexpected type found."}a&&v(s,d,t-d)}return s},w=function(t,n){var i,r,o,s,d,g=0,y=c,b=n;i=t.getUint8(n,y),n+=u,a&&console.info("Unpacking",i,m[i]),i!==p.ARRAY&&i!==p.OBJECT||(r=t.getUint16(n,y),n+=f,a&&console.info("Content Length",r)),o=t.getUint32(n,y),n+=l,a&&console.info("Byte Length",o,"bytes");var S=h[i],R=null===S?0:window[S+"Array"].BYTES_PER_ELEMENT;switch(i){case p.NULL:case p.UNDEFINED:a&&v(t,b,n-b),s=null;break;case p.STRING:r=o/R;var C=[];for(g=0;g<r;g++){var E=t.getUint16(n,y);n+=R,C.push(String.fromCharCode(E))}s=C.join(""),a&&(console.info('Actual Content %c"'+s+'"',"font-weight:bold;"),v(t,b,n-b));break;case p.NUMBER:s=t.getFloat64(n,y),n+=R,a&&(console.info('Actual Content %c"'+s.toString()+'"',"font-weight:bold;"),v(t,b,n-b));break;case p.BOOLEAN:s=1===t.getUint8(n,y),n+=R,a&&(console.info('Actual Content %c"'+s.toString()+'"',"font-weight:bold;"),v(t,b,n-b));break;case p.INT8ARRAY:case p.INT16ARRAY:case p.INT32ARRAY:case p.UINT8ARRAY:case p.UINT16ARRAY:case p.UINT32ARRAY:case p.FLOAT32ARRAY:case p.FLOAT64ARRAY:case p.ARRAYBUFFER:d=t.buffer.slice(n,n+o),n+=o,s=i===p.ARRAYBUFFER?d:new window[S+"Array"](d),a&&v(t,b,n-b);break;case p.BLOB:if(a&&v(t,b,n-b),window.Blob){var k=w(t,n),A=w(t,k.cursor);n=A.cursor,s=new Blob([A.value],{type:k.value})}else d=t.buffer.slice(n,n+o),n+=o,s=new e(d);break;case p.ARRAY:for(a&&v(t,b,n-b),s=[],g=0;g<r;g++)d=w(t,n),n=d.cursor,s.push(d.value);break;case p.OBJECT:for(a&&v(t,b,n-b),s={},g=0;g<r;g++){var T=w(t,n),P=w(t,T.cursor);n=P.cursor,s[T.value]=P.value}break;default:throw"TypeError: Type not supported."}return{value:s,cursor:n}},b=function(e,t){for(var n=e.length,i=[],r=0,o=0,s=0;s<e.length;s++)(function(s){S(e[s],function(e){if(i[s]=e,o+=e[0].header_size+e[0].byte_length,++r===n){for(var a=[],c=0;c<i.length;c++)a=a.concat(i[c]);t(a,o)}})})(s)},S=function(e,t){var n,i=[],r=1,o=u+l,s=0,a=0,c=e;switch(n=g(e),r=void 0===h[n]||null===h[n]?0:window[h[n]+"Array"].BYTES_PER_ELEMENT,n){case p.UNDEFINED:case p.NULL:break;case p.NUMBER:case p.BOOLEAN:s=r;break;case p.STRING:a=e.length,s+=a*r;break;case p.INT8ARRAY:case p.INT16ARRAY:case p.INT32ARRAY:case p.UINT8ARRAY:case p.UINT16ARRAY:case p.UINT32ARRAY:case p.FLOAT32ARRAY:case p.FLOAT64ARRAY:a=e.length,s+=a*r;break;case p.ARRAY:return void b(e,function(i,r){t([{type:n,length:e.length,header_size:o+f,byte_length:r,value:null}].concat(i))});case p.OBJECT:var d=[];for(var m in e)e.hasOwnProperty(m)&&(d.push(m),d.push(e[m]),a++);return void b(d,function(e,i){t([{type:n,length:a,header_size:o+f,byte_length:i,value:null}].concat(e))});case p.ARRAYBUFFER:s+=e.byteLength;break;case p.BLOB:var v=e.type,y=new FileReader;return y.onload=function(e){b([v,e.target.result],function(e,i){t([{type:n,length:a,header_size:o,byte_length:i,value:null}].concat(e))})},y.onerror=function(e){throw"FileReader Error: "+e},void y.readAsArrayBuffer(e);case p.BUFFER:s+=e.length;break;default:throw'TypeError: Type "'+e.constructor.name+'" not supported.'}t([{type:n,length:a,header_size:o,byte_length:s,value:c}].concat(i))},R=function(e,t){var n=e instanceof DataView?e:new DataView(e),i=w(n,0);return i.value};a&&(window.Test={BIG_ENDIAN:c,LITTLE_ENDIAN:d,Types:p,pack:y,unpack:w,serialize:S,deserialize:R});var C={pack:function(e,t){try{a&&console.info("%cPacking Start","font-weight: bold; color: red;",e),S(e,function(e){a&&console.info("Serialized Object",e),t(y(e))})}catch(n){throw n}},unpack:function(e,t){try{a&&console.info("%cUnpacking Start","font-weight: bold; color: red;",e);var n=R(e);a&&console.info("Deserialized Object",n),t(n)}catch(i){throw i}}};window.FileConverter=o,window.FileSelector=i,window.FileBufferReader=t})()}).call(this,n("b639").Buffer)},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),r=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=d.prototype):(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,i):"string"===typeof t?m(e,t,n):g(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,i){return f(t),t<=0?c(e,t):void 0!==n?"string"===typeof i?c(e,t).fill(n,i):c(e,t).fill(n):c(e,t)}function p(e,t){if(f(t),e=c(e,t<0?0:0|y(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function m(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|b(t,n);e=c(e,i);var r=e.write(t,n);return r!==i&&(e=e.slice(0,r)),e}function h(e,t){var n=t.length<0?0:0|y(t.length);e=c(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function v(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),d.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=d.prototype):e=h(e,t),e}function g(e,t){if(d.isBuffer(t)){var n=0|y(t.length);return e=c(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function w(e){return+e!=e&&(e=0),d.alloc(+e)}function b(e,t){if(d.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(i)return K(e).length;t=(""+t).toLowerCase(),i=!0}}function S(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return U(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function R(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function C(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=d.from(t,i)),d.isBuffer(t))return 0===t.length?-1:E(e,t,n,i,r);if("number"===typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,i,r){var o,s=1,a=e.length,c=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function d(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var u=-1;for(o=n;o<a;o++)if(d(e,o)===d(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var f=!0,l=0;l<c;l++)if(d(e,o+l)!==d(t,l)){f=!1;break}if(f)return o}return-1}function k(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function A(e,t,n,i){return ee(K(t,e.length-n),e,n,i)}function T(e,t,n,i){return ee($(t),e,n,i)}function P(e,t,n,i){return T(e,t,n,i)}function x(e,t,n,i){return ee(Z(t),e,n,i)}function O(e,t,n,i){return ee(Q(t,e.length-n),e,n,i)}function M(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function U(e,t,n){n=Math.min(e.length,n);var i=[],r=t;while(r<n){var o,s,a,c,d=e[r],u=null,f=d>239?4:d>223?3:d>191?2:1;if(r+f<=n)switch(f){case 1:d<128&&(u=d);break;case 2:o=e[r+1],128===(192&o)&&(c=(31&d)<<6|63&o,c>127&&(u=c));break;case 3:o=e[r+1],s=e[r+2],128===(192&o)&&128===(192&s)&&(c=(15&d)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&d)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,f=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=f}return L(i)}t.Buffer=d,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return u(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return l(null,e,t,n)},d.allocUnsafe=function(e){return p(null,e)},d.allocUnsafeSlow=function(e){return p(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=d.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!d.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},d.byteLength=b,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)R(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)R(this,t,t+3),R(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)R(this,t,t+7),R(this,t+1,t+6),R(this,t+2,t+5),R(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?U(this,0,e):S.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,i,r){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,s=n-t,a=Math.min(o,s),c=this.slice(i,r),u=e.slice(t,n),f=0;f<a;++f)if(c[f]!==u[f]){o=c[f],s=u[f];break}return o<s?-1:s<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return C(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return C(this,e,t,n,!1)},d.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function L(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",i=0;while(i<t)n+=String.fromCharCode.apply(String,e.slice(i,i+=I));return n}function D(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function B(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function N(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=X(e[o]);return r}function _(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function W(e,t,n,i,r,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Y(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function V(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function z(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,i,o){return o||z(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function j(e,t,n,i,o){return o||z(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}d.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=d.prototype;else{var r=t-e;n=new d(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);var i=this[e],r=1,o=0;while(++o<t&&(r*=256))i+=this[e+o]*r;return i},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);var i=this[e+--t],r=1;while(t>0&&(r*=256))i+=this[e+--t]*r;return i},d.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);var i=this[e],r=1,o=0;while(++o<t&&(r*=256))i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);var i=t,r=1,o=this[e+--i];while(i>0&&(r*=256))o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),r.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),r.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),r.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),r.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;W(this,e,t,n,r,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;W(this,e,t,n,r,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);W(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},d.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);W(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=d.isBuffer(e)?e:K(new d(e,i).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function H(e){if(e=J(e).replace(G,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function J(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function X(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],s=0;s<i;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,i,r,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function Z(e){return i.toByteArray(H(e))}function ee(e,t,n,i){for(var r=0;r<i;++r){if(r+n>=t.length||r>=e.length)break;t[r+n]=e[r]}return r}function te(e){return e!==e}}).call(this,n("c8ba"))},cd68:function(e,t,n){"use strict";(function(n,i){var r,o,s=function(s,a){var c="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";function d(e,t){function n(e){return!e.audio&&!e.video&&!e.screen&&e.data}var i="";i+="?userid="+e.userid,i+="&sessionid="+e.sessionid,i+="&msgEvent="+e.socketMessageEvent,i+="&socketCustomEvent="+e.socketCustomEvent,i+="&autoCloseEntireSession="+!!e.autoCloseEntireSession,!0===e.session.broadcast&&(i+="&oneToMany=true"),i+="&maxParticipantsAllowed="+e.maxParticipantsAllowed,e.enableScalableBroadcast&&(i+="&enableScalableBroadcast=true",i+="&maxRelayLimitPerUser="+(e.maxRelayLimitPerUser||2)),i+="&extra="+JSON.stringify(e.extra||{}),e.socketCustomParameters&&(i+=e.socketCustomParameters);try{io.sockets={}}catch(c){}if(e.socketURL||(e.socketURL="/"),"/"!=e.socketURL.substr(e.socketURL.length-1,1))throw'"socketURL" MUST end with a slash.';e.enableLogs&&("/"==e.socketURL?console.info("socket.io url is: ",location.origin+"/"):console.info("socket.io url is: ",e.socketURL));try{e.socket=io(e.socketURL+i)}catch(c){e.socket=io.connect(e.socketURL+i,e.socketOptions)}var r=e.multiPeersHandler;function o(t,n){e.peersBackup[t]||(e.peersBackup[t]={userid:t,extra:{}}),e.peersBackup[t].extra=n}function s(t){if(t.remoteUserId==e.userid)if(e.peers[t.sender]&&e.peers[t.sender].extra!=t.message.extra&&(e.peers[t.sender].extra=t.extra,e.onExtraDataUpdated({userid:t.sender,extra:t.extra}),o(t.sender,t.extra)),t.message.streamSyncNeeded&&e.peers[t.sender]){var i=e.streamEvents[t.message.streamid];if(!i||!i.stream)return;var a=t.message.action;if("ended"===a||"inactive"===a||"stream-removed"===a)return e.peersBackup[i.userid]&&(i.extra=e.peersBackup[i.userid].extra),void e.onstreamended(i);var c="both"!=t.message.type?t.message.type:null;"function"==typeof i.stream[a]&&i.stream[a](c)}else if("dropPeerConnection"!==t.message){if(t.message.allParticipants)return-1===t.message.allParticipants.indexOf(t.sender)&&t.message.allParticipants.push(t.sender),void t.message.allParticipants.forEach(function(t){r[e.peers[t]?"renegotiatePeer":"createNewPeer"](t,{localPeerSdpConstraints:{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:n(e.session)})});if(t.message.newParticipant){if(t.message.newParticipant==e.userid)return;if(e.peers[t.message.newParticipant])return;r.createNewPeer(t.message.newParticipant,t.message.userPreferences||{localPeerSdpConstraints:{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:n(e.session)})}else if(t.message.readyForOffer&&(e.attachStreams.length&&(e.waitingForLocalMedia=!1),e.waitingForLocalMedia))setTimeout(function(){s(t)},1);else if(t.message.newParticipationRequest&&t.sender!==e.userid){e.peers[t.sender]&&e.deletePeer(t.sender);var d={extra:t.extra||{},localPeerSdpConstraints:t.message.remotePeerSdpConstraints||{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:t.message.localPeerSdpConstraints||{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:"undefined"!==typeof t.message.isOneWay?t.message.isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:"undefined"!==typeof t.message.isDataOnly?t.message.isDataOnly:n(e.session),dontGetRemoteStream:"undefined"!==typeof t.message.isOneWay?t.message.isOneWay:!!e.session.oneway||"one-way"===e.direction,dontAttachLocalStream:!!t.message.dontGetRemoteStream,connectionDescription:t,successCallback:function(){}};e.onNewParticipant(t.sender,d)}else{if(t.message.changedUUID&&e.peers[t.message.oldUUID]&&(e.peers[t.message.newUUID]=e.peers[t.message.oldUUID],delete e.peers[t.message.oldUUID]),t.message.userLeft)return r.onUserLeft(t.sender),void(t.message.autoCloseEntireSession&&e.leave());r.addNegotiatedMessage(t.message,t.sender)}}else e.deletePeer(t.sender)}e.socket.on("extra-data-updated",function(t,n){e.peers[t]&&(e.peers[t].extra=n,e.onExtraDataUpdated({userid:t,extra:n}),o(t,n))}),e.socket.on(e.socketMessageEvent,s);var a=!1;e.socket.resetProps=function(){a=!1},e.socket.on("connect",function(){a||(a=!0,e.enableLogs&&console.info("socket.io connection is opened."),setTimeout(function(){e.socket.emit("extra-data-updated",e.extra)},1e3),t&&t(e.socket))}),e.socket.on("disconnect",function(t){e.onSocketDisconnect(t)}),e.socket.on("error",function(t){e.onSocketError(t)}),e.socket.on("user-disconnected",function(t){t!==e.userid&&(e.onUserStatusChanged({userid:t,status:"offline",extra:e.peers[t]&&e.peers[t].extra||{}}),e.deletePeer(t))}),e.socket.on("user-connected",function(t){t!==e.userid&&e.onUserStatusChanged({userid:t,status:"online",extra:e.peers[t]&&e.peers[t].extra||{}})}),e.socket.on("closed-entire-session",function(t,n){e.leave(),e.onEntireSessionClosed({sessionid:t,userid:t,extra:n})}),e.socket.on("userid-already-taken",function(t,n){e.onUserIdAlreadyTaken(t,n)}),e.socket.on("logs",function(t){e.enableLogs&&console.debug("server-logs",t)}),e.socket.on("number-of-broadcast-viewers-updated",function(t){e.onNumberOfBroadcastViewersUpdated(t)}),e.socket.on("set-isInitiator-true",function(t){t==e.sessionid&&(e.isInitiator=!0)})}function u(e){var t=this,n=["getAllParticipants","getLength","selectFirst","streams","send","forEach"];function i(){e.fbr=new FileBufferReader,e.fbr.onProgress=function(t){e.onFileProgress(t)},e.fbr.onBegin=function(t){e.onFileStart(t)},e.fbr.onEnd=function(t){e.onFileEnd(t)}}e.peers={getLength:function(){var e=0;for(var t in this)-1==n.indexOf(t)&&e++;return e},selectFirst:function(){var e;for(var t in this)-1==n.indexOf(t)&&(e=this[t]);return e},getAllParticipants:function(e){var t=[];for(var i in this)-1==n.indexOf(i)&&i!=e&&t.push(i);return t},forEach:function(t){this.getAllParticipants().forEach(function(n){t(e.peers[n])})},send:function(n,i){var r=this;if(!w(n.size)&&!w(n.type)){if(e.enableFileSharing)return void t.shareFile(n,i);"string"!==typeof n&&(n=JSON.stringify(n))}if("text"===n.type||n instanceof ArrayBuffer||n instanceof DataView){if("text"===n.type&&(n=JSON.stringify(n)),i){var o=e.peers[i];if(o)return o.channels.length?void o.channels.forEach(function(e){e.send(n)}):(e.peers[i].createDataChannel(),e.renegotiate(i),void setTimeout(function(){r.send(n,i)},3e3))}this.getAllParticipants().forEach(function(t){if(!r[t].channels.length)return e.peers[t].createDataChannel(),e.renegotiate(t),void setTimeout(function(){r[t].channels.forEach(function(e){e.send(n)})},3e3);r[t].channels.forEach(function(e){e.send(n)})})}else Y.send({text:n,channel:this,connection:e,remoteUserId:i})}},this.uuid=e.userid,this.getLocalConfig=function(n,r,o){return o||(o={}),{streamsToShare:o.streamsToShare||{},rtcMultiConnection:e,connectionDescription:o.connectionDescription,userid:r,localPeerSdpConstraints:o.localPeerSdpConstraints,remotePeerSdpConstraints:o.remotePeerSdpConstraints,dontGetRemoteStream:!!o.dontGetRemoteStream,dontAttachLocalStream:!!o.dontAttachLocalStream,renegotiatingPeer:!!o.renegotiatingPeer,peerRef:o.peerRef,channels:o.channels||[],onLocalSdp:function(e){t.onNegotiationNeeded(e,r)},onLocalCandidate:function(n){n=D.processCandidates(e,n),n&&t.onNegotiationNeeded(n,r)},remoteSdp:n,onDataChannelMessage:function(n){if(!e.fbr&&e.enableFileSharing&&i(),"string"!=typeof n&&e.enableFileSharing){var o=this;n instanceof ArrayBuffer||n instanceof DataView?e.fbr.convertToObject(n,function(e){o.onDataChannelMessage(e)}):n.readyForNextChunk?e.fbr.getNextChunk(n,function(t,n){e.peers[r].channels.forEach(function(e){e.send(t)})},r):n.chunkMissing?e.fbr.chunkMissing(n):e.fbr.addChunk(n,function(t){e.peers[r].peer.channel.send(t)})}else t.onDataChannelMessage(n,r)},onDataChannelError:function(e){t.onDataChannelError(e,r)},onDataChannelOpened:function(e){t.onDataChannelOpened(e,r)},onDataChannelClosed:function(e){t.onDataChannelClosed(e,r)},onRemoteStream:function(n){e.peers[r]&&e.peers[r].streams.push(n),t.onGettingRemoteMedia(n,r)},onRemoteStreamRemoved:function(e){t.onRemovingRemoteMedia(e,r)},onPeerStateChanged:function(e){t.onPeerStateChanged(e),"new"===e.iceConnectionState&&t.onNegotiationStarted(r,e),"connected"===e.iceConnectionState&&t.onNegotiationCompleted(r,e),-1!==e.iceConnectionState.search(/closed|failed/gi)&&(t.onUserLeft(r),t.disconnectWith(r))}}},this.createNewPeer=function(t,n){if(!(e.maxParticipantsAllowed<=e.getAllParticipants().length)){if(n=n||{},e.isInitiator&&e.session.audio&&"two-way"===e.session.audio&&!n.streamsToShare&&(n.isOneWay=!1,n.isDataOnly=!1,n.session=e.session),!n.isOneWay&&!n.isDataOnly)return n.isOneWay=!0,void this.onNegotiationNeeded({enableMedia:!0,userPreferences:n},t);n=e.setUserPreferences(n,t);var i=this.getLocalConfig(null,t,n);e.peers[t]=new I(i)}},this.createAnsweringPeer=function(t,n,i){i=e.setUserPreferences(i||{},n);var r=this.getLocalConfig(t,n,i);e.peers[n]=new I(r)},this.renegotiatePeer=function(t,n,i){if(e.peers[t]){n||(n={}),n.renegotiatingPeer=!0,n.peerRef=e.peers[t].peer,n.channels=e.peers[t].channels;var r=this.getLocalConfig(i,t,n);e.peers[t]=new I(r)}else e.enableLogs&&console.error("Peer ("+t+") does not exist. Renegotiation skipped.")},this.replaceTrack=function(t,n,i){if(!e.peers[n])throw"This peer ("+n+") does not exist.";var r=e.peers[n].peer;r.getSenders&&"function"===typeof r.getSenders&&r.getSenders().length?r.getSenders().forEach(function(r){i&&"video"===r.track.kind&&(e.peers[n].peer.lastVideoTrack=r.track,r.replaceTrack(t)),i||"audio"!==r.track.kind||(e.peers[n].peer.lastAudioTrack=r.track,r.replaceTrack(t))}):(console.warn("RTPSender.replaceTrack is NOT supported."),this.renegotiatePeer(n))},this.onNegotiationNeeded=function(e,t){},this.addNegotiatedMessage=function(n,i){if(n.type&&n.sdp)return"answer"==n.type&&e.peers[i]&&e.peers[i].addRemoteSdp(n),"offer"==n.type&&(n.renegotiatingPeer?this.renegotiatePeer(i,null,n):this.createAnsweringPeer(n,i)),void(e.enableLogs&&console.log("Remote peer's sdp:",n.sdp));if(n.candidate)return e.peers[i]&&e.peers[i].addRemoteCandidate(n),void(e.enableLogs&&console.log("Remote peer's candidate pairs:",n.candidate));if(n.enableMedia){e.session=n.userPreferences.session||e.session,e.session.oneway&&e.attachStreams.length&&(e.attachStreams=[]),n.userPreferences.isDataOnly&&e.attachStreams.length&&(e.attachStreams.length=[]);var r={};e.attachStreams.forEach(function(e){r[e.streamid]={isAudio:!!e.isAudio,isVideo:!!e.isVideo,isScreen:!!e.isScreen}}),n.userPreferences.streamsToShare=r,t.onNegotiationNeeded({readyForOffer:!0,userPreferences:n.userPreferences},i)}n.readyForOffer&&e.onReadyForOffer(i,n.userPreferences)},this.onGettingRemoteMedia=function(e,t){},this.onRemovingRemoteMedia=function(e,t){},this.onGettingLocalMedia=function(e){},this.onLocalMediaError=function(t,n){e.onMediaError(t,n)},this.shareFile=function(t,n){i(),e.fbr.readAsArrayBuffer(t,function(t){var i=e.getAllParticipants();n&&(i=[n]),i.forEach(function(n){e.fbr.getNextChunk(t,function(t){e.peers[n].channels.forEach(function(e){e.send(t)})},n)})},{userid:e.userid,chunkSize:"Firefox"===DetectRTC.browser.name?15e3:e.chunkSize||0})};var r=new W(e);this.onDataChannelMessage=function(t,n){r.receive(JSON.parse(t),n,e.peers[n]?e.peers[n].extra:{})},this.onDataChannelClosed=function(t,n){t.userid=n,t.extra=e.peers[n]?e.peers[n].extra:{},e.onclose(t)},this.onDataChannelError=function(t,n){t.userid=n,event.extra=e.peers[n]?e.peers[n].extra:{},e.onerror(t)},this.onDataChannelOpened=function(t,n){e.peers[n].channels.length?e.peers[n].channels=[t]:(e.peers[n].channels.push(t),e.onopen({userid:n,extra:e.peers[n]?e.peers[n].extra:{},channel:t}))},this.onPeerStateChanged=function(t){e.onPeerStateChanged(t)},this.onNegotiationStarted=function(e,t){},this.onNegotiationCompleted=function(e,t){},this.getRemoteStreams=function(t){return t=t||e.peers.getAllParticipants()[0],e.peers[t]?e.peers[t].streams:[]}}function f(e,t,n){if("undefined"!==typeof CustomEvent){var i={arguments:n,__exposedProps__:n},r=new CustomEvent(t,i);e.dispatchEvent(r)}}function l(e,t){if(t.stream&&C(t.stream,"audio").length){if(!e||!t)throw"Both arguments are required.";if(e.onspeaking&&e.onsilence){if("undefined"===typeof hark)throw"hark.js not found.";hark(t.stream,{onspeaking:function(){e.onspeaking(t)},onsilence:function(){e.onsilence(t)},onvolumechange:function(n,i){e.onvolumechange&&e.onvolumechange(merge({volume:n,threshold:i},t))}})}}}function p(e,t){t.stream&&t.stream&&t.stream.addEventListener&&(t.stream.addEventListener("mute",function(n){n=e.streamEvents[t.streamid],n.session={audio:"audio"===n.muteType,video:"video"===n.muteType},e.onmute(n)},!1),t.stream.addEventListener("unmute",function(n){n=e.streamEvents[t.streamid],n.session={audio:"audio"===n.unmuteType,video:"video"===n.unmuteType},e.onunmute(n)},!1))}function m(){if(window.crypto&&window.crypto.getRandomValues&&-1===navigator.userAgent.indexOf("Safari")){for(var e=window.crypto.getRandomValues(new Uint32Array(3)),t="",n=0,i=e.length;n<i;n++)t+=e[n].toString(36);return t}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")}function h(e,t,n){if(n.autoCreateMediaElement){var i=!1;C(e,"video").length||e.isVideo||e.isScreen||(i=!0),"Firefox"===DetectRTC.browser.name&&(n.session.video||n.session.screen)&&(i=!1);var r=document.createElement(i?"audio":"video");if(r.srcObject=e,r.setAttribute("autoplay",!0),r.setAttribute("playsinline",!0),r.setAttribute("controls",!0),r.setAttribute("muted",!1),r.setAttribute("volume",1),"Firefox"===DetectRTC.browser.name){var o="ended";"oninactive"in r&&(o="inactive"),r.addEventListener(o,function(){if(currentUserMediaRequest.remove(e.idInstance),"local"===e.type){o="ended","oninactive"in e&&(o="inactive"),F.onSyncNeeded(e.streamid,o),n.attachStreams.forEach(function(t,i){e.streamid===t.streamid&&delete n.attachStreams[i]});var t=[];n.attachStreams.forEach(function(e){e&&t.push(e)}),n.attachStreams=t;var i=n.streamEvents[e.streamid];if(i)return void n.onstreamended(i);this.parentNode&&this.parentNode.removeChild(this)}},!1)}var s=r.play();if("undefined"!==typeof s){var a=!1;setTimeout(function(){a||(a=!0,t(r))},1e3),s.then(function(){a||(a=!0,t(r))}).catch(function(e){a||(a=!0,t(r))})}else t(r)}else t({})}function v(e,t){window.removeEventListener(e,t),window.addEventListener(e,t,!1)}function g(e){var t=[];return e.forEach(function(e){e&&t.push(e)}),t}function y(e){return!e.audio&&!e.video&&!e.screen&&e.data}function w(e){return"undefined"===typeof e}function b(e){return"string"===typeof e}(function(e){e&&"undefined"===typeof window&&"undefined"!==typeof n&&(n.navigator={userAgent:c,getUserMedia:function(){}},n.console||(n.console={}),"undefined"===typeof n.console.debug&&(n.console.debug=n.console.info=n.console.error=n.console.log=n.console.log||function(){console.log(arguments)}),"undefined"===typeof document&&(e.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""}};return e},document.addEventListener=document.removeEventListener=e.addEventListener=e.removeEventListener=function(){},e.HTMLVideoElement=e.HTMLMediaElement=function(){}),"undefined"===typeof io&&(e.io=function(){return{on:function(e,t){t=t||function(){},"connect"===e&&t()},emit:function(e,t,n){n=n||function(){},"open-room"!==e&&"join-room"!==e||n(!0,t.sessionid,null)}}}),"undefined"===typeof location&&(e.location={protocol:"file:",href:"",hash:"",origin:"self"}),"undefined"===typeof screen&&(e.screen={width:0,height:0}),"undefined"===typeof URL&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=n)})("undefined"!==typeof n?n:null),function(){var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",a="object"===typeof i&&"object"===typeof i.versions&&i.versions.node&&!i.browser;if(a){var c=i.versions.node.toString().replace("v","");s="Nodejs/"+c+" (NodeOS) AppleWebKit/"+c+" (KHTML, like Gecko) Nodejs/"+c+" Nodejs/"+c}(function(e){"undefined"===typeof window&&("undefined"===typeof window&&"undefined"!==typeof n&&(n.navigator={userAgent:s,getUserMedia:function(){}},e.window=n),"undefined"===typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(e.screen={width:0,height:0}))})("undefined"!==typeof n?n:window);var d=window.navigator;"undefined"!==typeof d?("undefined"!==typeof d.webkitGetUserMedia&&(d.getUserMedia=d.webkitGetUserMedia),"undefined"!==typeof d.mozGetUserMedia&&(d.getUserMedia=d.mozGetUserMedia)):d={getUserMedia:function(){},userAgent:s};var u=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(d.userAgent||""),f=-1!==d.userAgent.indexOf("Edge")&&(!!d.msSaveOrOpenBlob||!!d.msSaveBlob),l=!!window.opera||d.userAgent.indexOf(" OPR/")>=0,p="undefined"!==typeof window.InstallTrigger,m=/^((?!chrome|android).)*safari/i.test(d.userAgent),h=!!window.chrome&&!l,v="undefined"!==typeof document&&!!document.documentMode&&!f;function g(){d.appVersion;var e,t,n,i=d.userAgent,r=d.appName,o=""+parseFloat(d.appVersion),s=parseInt(d.appVersion,10);if(m&&!h&&-1!==i.indexOf("CriOS")&&(m=!1,h=!0),l){r="Opera";try{o=d.userAgent.split("OPR/")[1].split(" ")[0],s=o.split(".")[0]}catch(a){o="0.0.0.0",s=0}}else v?(t=i.indexOf("rv:"),t>0?o=i.substring(t+3):(t=i.indexOf("MSIE"),o=i.substring(t+5)),r="IE"):h?(t=i.indexOf("Chrome"),r="Chrome",o=i.substring(t+7)):m?(t=i.indexOf("Safari"),r="Safari",o=i.substring(t+7),-1!==(t=i.indexOf("Version"))&&(o=i.substring(t+8)),-1!==d.userAgent.indexOf("Version/")&&(o=d.userAgent.split("Version/")[1].split(" ")[0])):p?(t=i.indexOf("Firefox"),r="Firefox",o=i.substring(t+8)):(e=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))&&(r=i.substring(e,t),o=i.substring(t+1),r.toLowerCase()===r.toUpperCase()&&(r=d.appName));return f&&(r="Edge",o=d.userAgent.split("Edge/")[1]),-1!==(n=o.search(/[; \)]/))&&(o=o.substring(0,n)),s=parseInt(""+o,10),isNaN(s)&&(o=""+parseFloat(d.appVersion),s=parseInt(d.appVersion,10)),{fullVersion:o,version:s,name:r,isPrivateBrowsing:!1}}function y(e,t){var n=0,i=50,r=!1,o=window.setInterval(function(){e()&&(window.clearInterval(o),t(r)),n++>i&&(window.clearInterval(o),r=!0,t(r))},10)}function w(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}function b(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){t=!1},function(e){t=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{n=window.indexedDB.open("test"),n.onerror=function(){return!0}}catch(i){t=!0}"undefined"===typeof t&&y(function(){return"done"===n.readyState},function(e){e||(t=!n.result)})}else if(w(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(i){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(i){t=!0}"undefined"===typeof t&&(t=!1,window.localStorage.removeItem("test"))}}catch(i){t=!1}y(function(){return"undefined"!==typeof t},function(n){e(t)})}var S={Android:function(){return d.userAgent.match(/Android/i)},BlackBerry:function(){return d.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return d.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return d.userAgent.match(/Opera Mini/i)},Windows:function(){return d.userAgent.match(/IEMobile/i)},any:function(){return S.Android()||S.BlackBerry()||S.iOS()||S.Opera()||S.Windows()},getOsName:function(){var e="Unknown OS";return S.Android()&&(e="Android"),S.BlackBerry()&&(e="BlackBerry"),S.iOS()&&(e="iOS"),S.Opera()&&(e="Opera Mini"),S.Windows()&&(e="Windows"),e}};function R(){for(var e,t="-",n=d.appVersion,i=d.userAgent,r=t,o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],s=0;e=o[s];s++)if(e.r.test(i)){r=e.s;break}var a=t;switch(/Windows/.test(r)&&(/Windows (.*)/.test(r)&&(a=/Windows (.*)/.exec(r)[1]),r="Windows"),r){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(i)&&(a=/Mac OS X (10[\.\_\d]+)/.exec(i)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(i)&&(a=/Android ([\.\_\d]+)/.exec(i)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(i)&&(a=/OS (\d+)_(\d+)_?(\d+)?/.exec(n),a=a[1]+"."+a[2]+"."+(0|a[3]));break}return{osName:r,osVersion:a}}var C="Unknown OS",E="Unknown OS Version";function k(e){e=(e||d.userAgent).toLowerCase();var t=e.match(/android\s([0-9\.]*)/);return!!t&&t[1]}var A=R();A&&A.osName&&"-"!=A.osName?(C=A.osName,E=A.osVersion):S.any()&&(C=S.getOsName(),"Android"==C&&(E=k()));a="object"===typeof i&&"object"===typeof i.versions&&i.versions.node;"Unknown OS"===C&&a&&(C="Nodejs",E=i.versions.node.toString().replace("v",""));var T=!1,P=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){"undefined"!==typeof document&&"function"===typeof document.createElement&&(!T&&e in document.createElement("canvas")&&(T=!0),!P&&e in document.createElement("video")&&(P=!0))});var x=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,O=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,M=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;function I(e,t){if(G.isWebRTCSupported){var n=!0,i=!0;L(function(t){t?t.match(x)?(n=!1,e("Local: "+t,n,i)):t.match(M)?(i=!1,e("Public: "+t,n,i)):e("Public: "+t,n,i):e()},t)}}function L(e,t){if("undefined"!==typeof document&&"function"===typeof document.getElementById){var n={},i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!i){var r=document.getElementById("iframe");if(!r)return;var o=r.contentWindow;i=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection}if(i){var s=null;"Chrome"===G.browser&&G.browser.version<58&&(s={optional:[{RtpDataChannels:!0}]});var a={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},c=new i(a,s);if(t&&(c.addStream?c.addStream(t):c.addTrack&&t.getTracks()[0]&&c.addTrack(t.getTracks()[0],t)),c.onicecandidate=function(e){e.candidate&&e.candidate.candidate?d(e.candidate.candidate):d()},!t)try{c.createDataChannel("sctp",{})}catch(f){}G.isPromisesSupported?c.createOffer().then(function(e){c.setLocalDescription(e).then(u)}):c.createOffer(function(e){c.setLocalDescription(e,u,function(){})},function(){})}}function d(t){if(t){var i=O.exec(t);if(i){var r=i[1],o=t.match(x),s=!0;void 0===n[r]&&e(r,o,s),n[r]=!0}}else e()}function u(){var e=c.localDescription.sdp.split("\n");e.forEach(function(e){e&&0===e.indexOf("a=candidate:")&&d(e)})}}var D=[],B=[],N=[],_=[];d.mediaDevices&&d.mediaDevices.enumerateDevices&&(d.enumerateDevices=function(e){var t=d.mediaDevices.enumerateDevices();t&&t.then?d.mediaDevices.enumerateDevices().then(e).catch(function(){e([])}):e([])});var F=!1;"undefined"!==typeof U&&"getSources"in U?F=!0:d.mediaDevices&&d.mediaDevices.enumerateDevices&&(F=!0);var W=!1,Y=!1,V=!1,z=!1,q=!1;function j(e){if(F)if(!d.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(d.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!d.enumerateDevices&&d.enumerateDevices&&(d.enumerateDevices=d.enumerateDevices.bind(d)),d.enumerateDevices){D=[],B=[],N=[],_=[],W=!1,Y=!1,V=!1,z=!1,q=!1;var t={};d.enumerateDevices(function(n){n.forEach(function(e){var n={};for(var i in e)try{"function"!==typeof e[i]&&(n[i]=e[i])}catch(r){}t[n.deviceId+n.label+n.kind]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||q||(q=!0),"audioinput"!==n.kind||z||(z=!0)):(n.isCustomLabel=!0,"videoinput"===n.kind?n.label="Camera "+(_.length+1):"audioinput"===n.kind?n.label="Microphone "+(B.length+1):"audiooutput"===n.kind?n.label="Speaker "+(N.length+1):n.label="Please invoke getUserMedia once.","undefined"!==typeof G&&G.browser.isChrome&&G.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!==typeof document&&"string"===typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(W=!0,-1===B.indexOf(n)&&B.push(n)),"audiooutput"===n.kind&&(Y=!0,-1===N.indexOf(n)&&N.push(n)),"videoinput"===n.kind&&(V=!0,-1===_.indexOf(n)&&_.push(n)),D.push(n),t[n.deviceId+n.label+n.kind]=n)}),"undefined"!==typeof G&&(G.MediaDevices=D,G.hasMicrophone=W,G.hasSpeakers=Y,G.hasWebcam=V,G.isWebsiteHasWebcamPermissions=q,G.isWebsiteHasMicrophonePermissions=z,G.audioInputDevices=B,G.audioOutputDevices=N,G.videoInputDevices=_),e&&e()})}else e&&e();else e&&e()}var G=window.DetectRTC||{};G.browser=g(),b(function(e){G.browser.isPrivateBrowsing=!!e}),G.browser["is"+G.browser.name]=!0,G.osName=C,G.osVersion=E;"object"===typeof i&&"object"===typeof i.versions&&i.versions["node-webkit"];var H=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(e){H||e in window&&(H=!0)}),G.isWebRTCSupported=H,G.isORTCSupported="undefined"!==typeof RTCIceGatherer;var J=!1;if(G.browser.isChrome&&G.browser.version>=35?J=!0:G.browser.isFirefox&&G.browser.version>=34?J=!0:G.browser.isEdge&&G.browser.version>=17?J=!0:"Android"===G.osName&&G.browser.isChrome&&(J=!0),!/^(https:|chrome-extension:)$/g.test(location.protocol||"")){var X="undefined"!==typeof document&&"string"===typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g);X&&(G.browser.isChrome||G.browser.isEdge||G.browser.isOpera)?J=!1:G.browser.isFirefox&&(J=!1)}G.isScreenCapturingSupported=J;var K={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(e){K.isSupported||e in window&&(K.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(K.isCreateMediaStreamSourceSupported=!0))}),G.isAudioContextSupported=K.isSupported,G.isCreateMediaStreamSourceSupported=K.isCreateMediaStreamSourceSupported;var $=!1;G.browser.isChrome&&G.browser.version>31&&($=!0),G.isRtpDataChannelsSupported=$;var Q=!1;G.browser.isFirefox&&G.browser.version>28?Q=!0:G.browser.isChrome&&G.browser.version>25?Q=!0:G.browser.isOpera&&G.browser.version>=11&&(Q=!0),G.isSctpDataChannelsSupported=Q,G.isMobileDevice=u;var Z=!1;d.getUserMedia?Z=!0:d.mediaDevices&&d.mediaDevices.getUserMedia&&(Z=!0),G.browser.isChrome&&G.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!==typeof document&&"string"===typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(Z="Requires HTTPs"),"Nodejs"===G.osName&&(Z=!1),G.isGetUserMediaSupported=Z;var ee="";if(screen.width){var te=screen.width?screen.width:"",ne=screen.height?screen.height:"";ee+=te+" x "+ne}function ie(e,t){function n(e,t){return 0==t?e:n(t,e%t)}var i=n(e,t);return e/i/(t/i)}G.displayResolution=ee,G.displayAspectRatio=ie(screen.width,screen.height).toFixed(2),G.isCanvasSupportsStreamCapturing=T,G.isVideoSupportsStreamCapturing=P,"Chrome"==G.browser.name&&G.browser.version>=53&&(G.isCanvasSupportsStreamCapturing||(G.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),G.isVideoSupportsStreamCapturing||(G.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),G.DetectLocalIPAddress=I,G.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,G.isWebSocketsBlocked=!G.isWebSocketsSupported,"Nodejs"===G.osName&&(G.isWebSocketsSupported=!0,G.isWebSocketsBlocked=!1),G.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,n=new WebSocket("wss://echo.websocket.org:443/");n.onopen=function(){G.isWebSocketsBlocked=!1,t=(new Date).getTime(),n.send("ping")},n.onmessage=function(){G.WebsocketLatency=(new Date).getTime()-t+"ms",e(),n.close(),n=null},n.onerror=function(){G.isWebSocketsBlocked=!0,e()}}catch(i){G.isWebSocketsBlocked=!0,e()}},G.load=function(e){e=e||function(){},j(e)},G.MediaDevices="undefined"!==typeof D?D:[],G.hasMicrophone=W,G.hasSpeakers=Y,G.hasWebcam=V,G.isWebsiteHasWebcamPermissions=q,G.isWebsiteHasMicrophonePermissions=z,G.audioInputDevices=B,G.audioOutputDevices=N,G.videoInputDevices=_;var re=!1;"undefined"!==typeof document&&"function"===typeof document.createElement&&"setSinkId"in document.createElement("video")&&(re=!0),G.isSetSinkIdSupported=re;var oe=!1;G.browser.isFirefox&&"undefined"!==typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(oe=!0):G.browser.isChrome&&"undefined"!==typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(oe=!0),G.isRTPSenderReplaceTracksSupported=oe;var se=!1;G.browser.isFirefox&&G.browser.version>38&&(se=!0),G.isRemoteStreamProcessingSupported=se;var ae=!1;"undefined"!==typeof U&&"applyConstraints"in U.prototype&&(ae=!0),G.isApplyConstraintsSupported=ae;var ce=!1;G.browser.isFirefox&&G.browser.version>=43&&(ce=!0),G.isMultiMonitorScreenCapturingSupported=ce,G.isPromisesSupported=!!("Promise"in window),G.version="1.3.9","undefined"===typeof G&&(window.DetectRTC={});var de=window.MediaStream;"undefined"===typeof de&&"undefined"!==typeof webkitMediaStream&&(de=webkitMediaStream),G.MediaStream="undefined"!==typeof de&&"function"===typeof de&&Object.keys(de.prototype),G.MediaStreamTrack="undefined"!==typeof U&&Object.keys(U.prototype);var ue=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;G.RTCPeerConnection="undefined"!==typeof ue&&Object.keys(ue.prototype),window.DetectRTC=G,e.exports=G,r=[],o=function(){return G}.apply(t,r),void 0===o||(e.exports=o)}(),"undefined"!==typeof cordova&&(DetectRTC.isMobileDevice=!0,DetectRTC.browser.name="Chrome"),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Crosswalk")&&(DetectRTC.isMobileDevice=!0,DetectRTC.browser.name="Chrome"),window.addEventListener||(window.addEventListener=function(e,t,n){e.attachEvent&&e.attachEvent("on"+t,n)}),window.attachEventListener=function(e,t,n,i){e.addEventListener(t,n,i)};var S=window.MediaStream;function R(e,t){return(!e.session.audio||"two-way"!==e.session.audio)&&("Firefox"===DetectRTC.browser.name&&!1!==t||!("Chrome"!==DetectRTC.browser.name||DetectRTC.browser.version<50)&&(!0===typeof t||!("undefined"!==typeof t||!e.session.audio||!e.session.screen||e.session.video)&&(t=!0,!0)))}function C(e,t){return e&&e.getTracks?e.getTracks().filter(function(e){return e.kind===(t||"audio")}):[]}function E(){var e=!1;try{if("undefined"===typeof RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var t=new T;try{t.addTransceiver("audio"),e=!0}catch(n){}t.close()}catch(n){e=!1}return e&&k()}function k(){var e=!1;try{var t=new T({sdpSemantics:"unified-plan"});try{var n=t.getConfiguration();e="unified-plan"==n.sdpSemantics||(n.sdpSemantics,!1)}catch(i){e=!1}}catch(i){e=!1}return e}function A(){if("undefined"!==typeof cordova&&"undefined"!==typeof cordova.plugins&&"undefined"!==typeof cordova.plugins.iosrtc){var e=cordova.plugins.iosrtc;window.webkitRTCPeerConnection=e.RTCPeerConnection,window.RTCSessionDescription=e.RTCSessionDescription,window.RTCIceCandidate=e.RTCIceCandidate,window.MediaStream=e.MediaStream,window.MediaStreamTrack=e.MediaStreamTrack,navigator.getUserMedia=navigator.webkitGetUserMedia=e.getUserMedia,e.debug.enable("iosrtc*"),"function"==typeof e.selectAudioOutput&&e.selectAudioOutput(window.iOSDefaultAudioOutputDevice||"speaker"),e.registerGlobals()}}"undefined"===typeof S&&"undefined"!==typeof webkitMediaStream&&(S=webkitMediaStream),"undefined"!==typeof S&&("stop"in S.prototype||(S.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})})),window.iOSDefaultAudioOutputDevice=window.iOSDefaultAudioOutputDevice||"speaker",document.addEventListener("deviceready",A,!1),A();var T,P={};function x(e){var t={OfferToReceiveAudio:!!e.OfferToReceiveAudio,OfferToReceiveVideo:!!e.OfferToReceiveVideo};return t}"undefined"!==typeof window.RTCPeerConnection?T=window.RTCPeerConnection:"undefined"!==typeof mozRTCPeerConnection?T=mozRTCPeerConnection:"undefined"!==typeof webkitRTCPeerConnection&&(T=webkitRTCPeerConnection);var O=window.RTCSessionDescription||window.mozRTCSessionDescription,M=window.RTCIceCandidate||window.mozRTCIceCandidate,U=window.MediaStreamTrack;function I(e){if("undefined"!==typeof window.RTCPeerConnection?T=window.RTCPeerConnection:"undefined"!==typeof mozRTCPeerConnection?T=mozRTCPeerConnection:"undefined"!==typeof webkitRTCPeerConnection&&(T=webkitRTCPeerConnection),O=window.RTCSessionDescription||window.mozRTCSessionDescription,M=window.RTCIceCandidate||window.mozRTCIceCandidate,U=window.MediaStreamTrack,!T)throw"WebRTC 1.0 (RTCPeerConnection) API are NOT available in this browser.";var t=e.rtcMultiConnection;this.extra=e.remoteSdp?e.remoteSdp.extra:t.extra,this.userid=e.userid,this.streams=[],this.channels=e.channels||[],this.connectionDescription=e.connectionDescription,this.addStream=function(e){t.addStream(e,n.userid)},this.removeStream=function(e){t.removeStream(e,n.userid)};var n=this;e.remoteSdp&&(this.connectionDescription=e.remoteSdp.connectionDescription);var i,r={};P.sdpConstraints=x({OfferToReceiveAudio:!0,OfferToReceiveVideo:!0});var o=!!e.renegotiatingPeer;e.remoteSdp&&(o=!!e.remoteSdp.renegotiatingPeer);var s=[];if(t.attachStreams.forEach(function(e){e&&s.push(e)}),o)i=e.peerRef;else{var a="all";(t.candidates.turn||t.candidates.relay)&&(t.candidates.stun||t.candidates.reflexive||t.candidates.host||(a="relay"));try{var c={iceServers:t.iceServers,iceTransportPolicy:t.iceTransportPolicy||a};"undefined"!==typeof t.iceCandidatePoolSize&&(c.iceCandidatePoolSize=t.iceCandidatePoolSize),"undefined"!==typeof t.bundlePolicy&&(c.bundlePolicy=t.bundlePolicy),"undefined"!==typeof t.rtcpMuxPolicy&&(c.rtcpMuxPolicy=t.rtcpMuxPolicy),t.sdpSemantics&&(c.sdpSemantics=t.sdpSemantics||"unified-plan"),t.iceServers&&t.iceServers.length||(c=null,t.optionalArgument=null),i=new T(c,t.optionalArgument)}catch(h){try{c={iceServers:t.iceServers};i=new T(c)}catch(h){i=new T}}}!i.getRemoteStreams&&i.getReceivers&&(i.getRemoteStreams=function(){var e=new S;return i.getReceivers().forEach(function(t){e.addTrack(t.track)}),[e]}),!i.getLocalStreams&&i.getSenders&&(i.getLocalStreams=function(){var e=new S;return i.getSenders().forEach(function(t){e.addTrack(t.track)}),[e]}),i.onicecandidate=function(r){if(r.candidate)t.trickleIce&&e.onLocalCandidate({candidate:r.candidate.candidate,sdpMid:r.candidate.sdpMid,sdpMLineIndex:r.candidate.sdpMLineIndex});else if(!t.trickleIce){var o=i.localDescription;e.onLocalSdp({type:o.type,sdp:o.sdp,remotePeerSdpConstraints:e.remotePeerSdpConstraints||!1,renegotiatingPeer:!!e.renegotiatingPeer||!1,connectionDescription:n.connectionDescription,dontGetRemoteStream:!!e.dontGetRemoteStream,extra:t?t.extra:{},streamsToShare:p})}},s.forEach(function(r){e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.dontGetRemoteStream||e.dontAttachLocalStream||(r=t.beforeAddingStream(r,n),r&&(i.getLocalStreams().forEach(function(e){r&&e.id==r.id&&(r=null)}),r&&r.getTracks&&r.getTracks().forEach(function(e){try{i.addTrack(e,r)}catch(h){}})))}),i.oniceconnectionstatechange=i.onsignalingstatechange=function(){var r=n.extra;t.peers[n.userid]&&(r=t.peers[n.userid].extra||r),i&&(e.onPeerStateChanged({iceConnectionState:i.iceConnectionState,iceGatheringState:i.iceGatheringState,signalingState:i.signalingState,extra:r,userid:n.userid}),i&&i.iceConnectionState&&-1!==i.iceConnectionState.search(/closed|failed/gi)&&n.streams instanceof Array&&n.streams.forEach(function(e){var n=t.streamEvents[e.id]||{streamid:e.id,stream:e,type:"remote"};t.onstreamended(n)}))};var d={OfferToReceiveAudio:!!s.length,OfferToReceiveVideo:!!s.length};e.localPeerSdpConstraints&&(d=e.localPeerSdpConstraints),P.sdpConstraints=x(d);var u={};i.ontrack=function(t){if(t&&"track"===t.type)if(t.stream=t.streams[t.streams.length-1],t.stream.id||(t.stream.id=t.track.id),u[t.stream.id]&&"Safari"!==DetectRTC.browser.name)t.track&&(t.track.onended=function(){i&&i.onremovestream(t)});else{u[t.stream.id]=t.stream.id;var n={};e.remoteSdp&&e.remoteSdp.streamsToShare?n=e.remoteSdp.streamsToShare:e.streamsToShare&&(n=e.streamsToShare);var o=n[t.stream.id];o?(t.stream.isAudio=o.isAudio,t.stream.isVideo=o.isVideo,t.stream.isScreen=o.isScreen):(t.stream.isVideo=!!C(t.stream,"video").length,t.stream.isAudio=!t.stream.isVideo,t.stream.isScreen=!1),t.stream.streamid=t.stream.id,r[t.stream.id]=t.stream,e.onRemoteStream(t.stream),t.stream.getTracks().forEach(function(e){e.onended=function(){i&&i.onremovestream(t)}}),t.stream.onremovetrack=function(){i&&i.onremovestream(t)}}},i.onremovestream=function(t){t.stream.streamid=t.stream.id,r[t.stream.id]&&delete r[t.stream.id],e.onRemoteStreamRemoved(t.stream)},"function"!==typeof i.removeStream&&(i.removeStream=function(e){e.getTracks().forEach(function(t){i.removeTrack(t,e)})}),this.addRemoteCandidate=function(e){i.addIceCandidate(new M(e))},this.addRemoteSdp=function(e,n){n=n||function(){},"Safari"!==DetectRTC.browser.name&&(e.sdp=t.processSdp(e.sdp)),i.setRemoteDescription(new O(e)).then(n,function(i){t.enableLogs&&console.error("setRemoteDescription failed","\n",i,"\n",e.sdp),n()}).catch(function(i){t.enableLogs&&console.error("setRemoteDescription failed","\n",i,"\n",e.sdp),n()})};var f=!0;function l(t){t.binaryType="arraybuffer",t.onmessage=function(t){e.onDataChannelMessage(t.data)},t.onopen=function(){e.onDataChannelOpened(t)},t.onerror=function(t){e.onDataChannelError(t)},t.onclose=function(t){e.onDataChannelClosed(t)},t.internalSend=t.send,t.send=function(e){"open"===t.readyState&&t.internalSend(e)},i.channel=t}e.remoteSdp&&(f=!1),this.createDataChannel=function(){var e=i.createDataChannel("sctp",{});l(e)},!0!==t.session.data||o||(f?this.createDataChannel():i.ondatachannel=function(e){var t=e.channel;l(t)}),this.enableDisableVideoEncoding=function(e){var t;if(i.getSenders().forEach(function(e){t||"video"!==e.track.kind||(t=e)}),t&&t.getParameters){var n=t.getParameters();n.encodings[1]&&(n.encodings[1].active=!!e),n.encodings[2]&&(n.encodings[2].active=!!e),t.setParameters(n)}},e.remoteSdp&&(e.remoteSdp.remotePeerSdpConstraints&&(d=e.remoteSdp.remotePeerSdpConstraints),P.sdpConstraints=x(d),this.addRemoteSdp(e.remoteSdp,function(){m("createAnswer")})),"two-way"!=t.session.audio&&"two-way"!=t.session.video&&"two-way"!=t.session.screen||(P.sdpConstraints=x({OfferToReceiveAudio:"two-way"==t.session.audio||e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.OfferToReceiveAudio,OfferToReceiveVideo:"two-way"==t.session.video||"two-way"==t.session.screen||e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.OfferToReceiveAudio}));var p={};function m(r){i[r](P.sdpConstraints).then(function(r){"Safari"!==DetectRTC.browser.name&&(r.sdp=t.processSdp(r.sdp)),i.setLocalDescription(r).then(function(){t.trickleIce&&(e.onLocalSdp({type:r.type,sdp:r.sdp,remotePeerSdpConstraints:e.remotePeerSdpConstraints||!1,renegotiatingPeer:!!e.renegotiatingPeer||!1,connectionDescription:n.connectionDescription,dontGetRemoteStream:!!e.dontGetRemoteStream,extra:t?t.extra:{},streamsToShare:p}),t.onSettingLocalDescription(n))},function(e){t.enableLogs&&console.error("setLocalDescription error",e)})},function(e){t.enableLogs&&console.error("sdp-error",e)})}i.getLocalStreams().forEach(function(e){p[e.streamid]={isAudio:!!e.isAudio,isVideo:!!e.isVideo,isScreen:!!e.isScreen}}),f&&m("createOffer"),i.nativeClose=i.close,i.close=function(){if(i){try{i.nativeClose!==i.close&&i.nativeClose()}catch(h){}i=null,n.peer=null}},this.peer=i}var L=function(){function e(e,i){var r=n(e);return r.videoCodecNumbers?"vp8"===i&&r.vp8LineNumber===r.videoCodecNumbers[0]?e:"vp9"===i&&r.vp9LineNumber===r.videoCodecNumbers[0]?e:"h264"===i&&r.h264LineNumber===r.videoCodecNumbers[0]?e:(e=t(e,i,r),e):e}function t(e,t,n,i){var r="";if("vp8"===t){if(!n.vp8LineNumber)return e;r=n.vp8LineNumber}if("vp9"===t){if(!n.vp9LineNumber)return e;r=n.vp9LineNumber}if("h264"===t){if(!n.h264LineNumber)return e;r=n.h264LineNumber}var o=n.videoCodecNumbersOriginal.split("SAVPF")[0]+"SAVPF ",s=[r];return i&&(s=[]),n.videoCodecNumbers.forEach(function(e){e!==r&&s.push(e)}),o+=s.join(" "),e=e.replace(n.videoCodecNumbersOriginal,o),e}function n(e){var t={};return e.split("\n").forEach(function(e){0===e.indexOf("m=video")&&(t.videoCodecNumbers=[],e.split("SAVPF")[1].split(" ").forEach(function(n){n=n.trim(),n&&n.length&&(t.videoCodecNumbers.push(n),t.videoCodecNumbersOriginal=e)})),-1===e.indexOf("VP8/90000")||t.vp8LineNumber||(t.vp8LineNumber=e.replace("a=rtpmap:","").split(" ")[0]),-1===e.indexOf("VP9/90000")||t.vp9LineNumber||(t.vp9LineNumber=e.replace("a=rtpmap:","").split(" ")[0]),-1===e.indexOf("H264/90000")||t.h264LineNumber||(t.h264LineNumber=e.replace("a=rtpmap:","").split(" ")[0])}),t}function i(e){var i=n(e);return e=t(e,"vp9",i,!0),e=t(e,"vp8",i,!0),e}function r(e){if(!e||"string"!==typeof e)throw"Invalid arguments.";return e=e.replace("a=rtcp-fb:126 nack\r\n",""),e=e.replace("a=rtcp-fb:126 nack pli\r\n","a=rtcp-fb:126 pli\r\n"),e=e.replace("a=rtcp-fb:97 nack\r\n",""),e=e.replace("a=rtcp-fb:97 nack pli\r\n","a=rtcp-fb:97 pli\r\n"),e}function o(e,t){if(t&&t.getSenders&&t.getSenders().length){if(!e||"string"!==typeof e)throw"Invalid arguments.";t.getSenders().forEach(function(t){for(var n=t.getParameters(),i=0;i<n.codecs.length;i++)if(n.codecs[i].mimeType==e){n.codecs.unshift(n.codecs.splice(i,1));break}t.setParameters(n)})}}function s(e){return e.replace(/m=audio ([0-9]+) RTP\/SAVPF ([0-9 ]*)/g,"m=audio $1 RTP/SAVPF 9")}function a(e,t,n){return t?"undefined"!==typeof isFirefox&&isFirefox?e:(n&&(t.screen?t.screen<300&&console.warn("It seems that you are using wrong bandwidth value for screen. Screen sharing is expected to fail."):console.warn("It seems that you are not using bandwidth for screen. Screen sharing is expected to fail.")),t.screen&&n&&(e=e.replace(/b=AS([^\r\n]+\r\n)/g,""),e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+t.screen+"\r\n")),(t.audio||t.video)&&(e=e.replace(/b=AS([^\r\n]+\r\n)/g,"")),t.audio&&(e=e.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+t.audio+"\r\n")),t.screen?e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+t.screen+"\r\n"):t.video&&(e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+t.video+"\r\n")),e):e}function c(e,t,n){return d(e,0,-1,t,n)}function d(e,t,n,i,r){for(var o=-1!==n?n:e.length,s=t;s<o;++s)if(0===e[s].indexOf(i)&&(!r||-1!==e[s].toLowerCase().indexOf(r.toLowerCase())))return s;return null}function u(e){var t=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),n=e.match(t);return n&&2===n.length?n[1]:null}function f(e,t){t=t||{};var n,i=t.min,r=t.max,o=e.split("\r\n"),s=c(o,"a=rtpmap","VP8/90000");if(s&&(n=u(o[s])),!n)return e;var a,d=c(o,"a=rtpmap","rtx/90000");if(d&&(a=u(o[d])),!d)return e;var f=c(o,"a=fmtp:"+a.toString());if(null!==f){var l="\r\n";l+="a=fmtp:"+n+" x-google-min-bitrate="+(i||"228")+"; x-google-max-bitrate="+(r||"228"),o[f]=o[f].concat(l),e=o.join("\r\n")}return e}function l(e,t){t=t||{};var n,i=e.split("\r\n"),r=c(i,"a=rtpmap","opus/48000");if(r&&(n=u(i[r])),!n)return e;var o=c(i,"a=fmtp:"+n.toString());if(null===o)return e;var s="";return s+="; stereo="+("undefined"!=typeof t.stereo?t.stereo:"1"),s+="; sprop-stereo="+("undefined"!=typeof t["sprop-stereo"]?t["sprop-stereo"]:"1"),"undefined"!=typeof t.maxaveragebitrate&&(s+="; maxaveragebitrate="+(t.maxaveragebitrate||1048576)),"undefined"!=typeof t.maxplaybackrate&&(s+="; maxplaybackrate="+(t.maxplaybackrate||1048576)),"undefined"!=typeof t.cbr&&(s+="; cbr="+("undefined"!=typeof t.cbr?t.cbr:"1")),"undefined"!=typeof t.useinbandfec&&(s+="; useinbandfec="+t.useinbandfec),"undefined"!=typeof t.usedtx&&(s+="; usedtx="+t.usedtx),"undefined"!=typeof t.maxptime&&(s+="\r\na=maxptime:"+t.maxptime),i[o]=i[o].concat(s),e=i.join("\r\n"),e}function p(e){for(var t=e.split("\r\n"),n=null,i=0;i<t.length;i++)if(-1!==t[i].search("opus/48000")){var r=extractSdp(t[i],/:(\d+) opus\/48000/i);break}for(i=0;i<t.length;i++)if(-1!==t[i].search("a=fmtp")){var o=extractSdp(t[i],/a=fmtp:(\d+)/);if(o===r){n=i;break}}return null===n?e:(t[n]=t[n].concat("; stereo=1; sprop-stereo=1"),e=t.join("\r\n"),e)}return{removeVPX:i,disableNACK:r,prioritize:o,removeNonG722:s,setApplicationSpecificBandwidth:function(e,t,n){return a(e,t,n)},setVideoBitrates:function(e,t){return f(e,t)},setOpusAttributes:function(e,t){return l(e,t)},preferVP9:function(t){return e(t,"vp9")},preferCodec:e,forceStereoAudio:p}}();window.BandwidthHandler=L;var D=function(){function e(e,t){var n=t.candidate,i=e.candidates,r=i.stun,o=i.turn;if(w(i.reflexive)||(r=i.reflexive),w(i.relay)||(o=i.relay),(i.host||!n.match(/typ host/g))&&(o||!n.match(/typ relay/g))&&(r||!n.match(/typ srflx/g))){var s=e.iceProtocols;if((s.udp||!n.match(/ udp /g))&&(s.tcp||!n.match(/ tcp /g)))return e.enableLogs&&console.debug("Your candidate pairs:",n),{candidate:n,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex}}}return{processCandidates:e}}(),B=function(){function e(e){var t=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun.l.google.com:19302?transport=udp"]}];return t}return{getIceServers:e}}();function N(e,t){e.mandatory&&e.mandatory.chromeMediaSource?t.isScreen=!0:e.mozMediaSource||e.mediaSource?t.isScreen=!0:e.video?t.isVideo=!0:e.audio&&(t.isAudio=!0)}function _(e){if(!0!==currentUserMediaRequest.mutex){currentUserMediaRequest.mutex=!0;var t=JSON.stringify(e.localMediaConstraints);if(currentUserMediaRequest.streams[t])s(currentUserMediaRequest.streams[t].stream,!0);else{var n=!!/BB10|BlackBerry/i.test(navigator.userAgent||"");if(n||"undefined"===typeof navigator.mediaDevices||"function"!==typeof navigator.mediaDevices.getUserMedia)return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,void navigator.getUserMedia(e.localMediaConstraints,function(e){e.streamid=e.streamid||e.id||m(),e.idInstance=t,s(e)},function(t){e.onLocalMediaError(t,e.localMediaConstraints)});if("undefined"===typeof navigator.mediaDevices){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var i,r,o=function(){};navigator.mediaDevices={getUserMedia:function(e){return navigator.getUserMedia(e,function(e){e(stream),i=stream},function(e){o(e),r=e}),{then:function(e){if(!i)return e,{then:function(e){r?e(r):o=e}};e(i)}}}}}if(!0===e.localMediaConstraints.isScreen){if(navigator.mediaDevices.getDisplayMedia)navigator.mediaDevices.getDisplayMedia(e.localMediaConstraints).then(function(e){e.streamid=e.streamid||e.id||m(),e.idInstance=t,s(e)}).catch(function(t){e.onLocalMediaError(t,e.localMediaConstraints)});else{if(!navigator.getDisplayMedia)throw new Error("getDisplayMedia API is not availabe in this browser.");navigator.getDisplayMedia(e.localMediaConstraints).then(function(e){e.streamid=e.streamid||e.id||m(),e.idInstance=t,s(e)}).catch(function(t){e.onLocalMediaError(t,e.localMediaConstraints)})}return}navigator.mediaDevices.getUserMedia(e.localMediaConstraints).then(function(e){e.streamid=e.streamid||e.id||m(),e.idInstance=t,s(e)}).catch(function(t){e.onLocalMediaError(t,e.localMediaConstraints)})}}else currentUserMediaRequest.queueRequests.push(e);function s(n,i){N(e.localMediaConstraints,n);var r="ended";"oninactive"in n&&(r="inactive"),n.addEventListener(r,function(){delete currentUserMediaRequest.streams[t],currentUserMediaRequest.mutex=!1,currentUserMediaRequest.queueRequests.indexOf(e)&&(delete currentUserMediaRequest.queueRequests[currentUserMediaRequest.queueRequests.indexOf(e)],currentUserMediaRequest.queueRequests=g(currentUserMediaRequest.queueRequests))},!1),currentUserMediaRequest.streams[t]={stream:n},currentUserMediaRequest.mutex=!1,currentUserMediaRequest.queueRequests.length&&_(currentUserMediaRequest.queueRequests.shift()),e.onGettingLocalMedia(n,i)}}window.currentUserMediaRequest={streams:[],mutex:!1,queueRequests:[],remove:function(e){this.mutex=!1;var t=this.streams[e];if(t){t=t.stream;var n=t.currentUserMediaRequestOptions;this.queueRequests.indexOf(n)&&(delete this.queueRequests[this.queueRequests.indexOf(n)],this.queueRequests=g(this.queueRequests)),this.streams[e].stream=null,delete this.streams[e]}}};var F=function(){function e(e){if(e)return"string"===typeof e||"undefined"===typeof e?e:e.audio&&e.video?null:e.audio?"audio":e.video?"video":void 0}function t(t,i,r){if(t&&t.addEventListener){if("undefined"==typeof i||1==i){var o="ended";"oninactive"in t&&(o="inactive"),t.addEventListener(o,function(){F.onSyncNeeded(this.streamid,o)},!1)}t.mute=function(n,o){n=e(n),"undefined"!==typeof o&&(i=o),"undefined"!=typeof n&&"audio"!=n||C(t,"audio").forEach(function(e){e.enabled=!1,r.streamEvents[t.streamid].isAudioMuted=!0}),"undefined"!=typeof n&&"video"!=n||C(t,"video").forEach(function(e){e.enabled=!1}),"undefined"!=typeof i&&1!=i||F.onSyncNeeded(t.streamid,"mute",n),r.streamEvents[t.streamid].muteType=n||"both",f(t,"mute",n)},t.unmute=function(n,o){n=e(n),"undefined"!==typeof o&&(i=o),s(),"undefined"!=typeof n&&"audio"!=n||C(t,"audio").forEach(function(e){e.enabled=!0,r.streamEvents[t.streamid].isAudioMuted=!1}),"undefined"!=typeof n&&"video"!=n||(C(t,"video").forEach(function(e){e.enabled=!0}),"undefined"!==typeof n&&"video"==n&&r.streamEvents[t.streamid].isAudioMuted&&function e(n){n||(n=0),n++,n<100&&r.streamEvents[t.streamid].isAudioMuted&&(t.mute("audio"),setTimeout(function(){e(n)},50))}()),"undefined"!=typeof i&&1!=i||F.onSyncNeeded(t.streamid,"unmute",n),r.streamEvents[t.streamid].unmuteType=n||"both",f(t,"unmute",n)}}function s(){if(r.streamEvents[t.streamid].mediaElement){var e=r.streamEvents[t.streamid].mediaElement;e.volume=0,n(200,5,function(){try{e.volume+=.2}catch(t){e.volume=1}})}}}function n(e,t,i,r){r=(r||0)+1,r>=t||setTimeout(function(){i(),n(e,t,i,r)},e)}return{setHandlers:t,onSyncNeeded:function(e,t,n){}}}();function W(e){var t={};function n(n,i,r){var o=n.uuid;if(t[o]||(t[o]=[]),t[o].push(n.message),n.last){var s=t[o].join("");n.isobject&&(s=JSON.parse(s));var a=(new Date).getTime(),c=a-n.sendingTime,d={data:s,userid:i,extra:r,latency:c};e.autoTranslateText?(d.original=d.data,e.Translator.TranslateText(d.data,function(t){d.data=t,e.onmessage(d)})):e.onmessage(d),delete t[o]}}return{receive:n}}var Y={send:function(e){var t=e.connection,n=e.channel,i=e.remoteUserId,r=e.text,o=t.chunkSize||1e3,s="",a=!1;b(r)||(a=!0,r=JSON.stringify(r));var c=m(),d=(new Date).getTime();function u(e,r){var f={type:"text",uuid:c,sendingTime:d};e&&(r=e,f.packets=parseInt(r.length/o)),r.length>o?f.message=r.slice(0,o):(f.message=r,f.last=!0,f.isobject=a),n.send(f,i),s=r.slice(f.message.length),s.length&&setTimeout(function(){u(null,s)},t.chunkInterval||100)}u(r)}},V=function(){function e(e){var t={};function n(e,t){if(-1!==e.position){var n=+e.position.toFixed(2).split(".")[1]||100;t.innerHTML=n+"%"}}e.onFileStart=function(n){var i=document.createElement("div");if(i.title=n.name,i.innerHTML="<label>0%</label> <progress></progress>",n.remoteUserId&&(i.innerHTML+=" (Sharing with:"+n.remoteUserId+")"),e.filesContainer||(e.filesContainer=document.body||document.documentElement),e.filesContainer.insertBefore(i,e.filesContainer.firstChild),!n.remoteUserId)return t[n.uuid]={div:i,progress:i.querySelector("progress"),label:i.querySelector("label")},void(t[n.uuid].progress.max=n.maxChunks);t[n.uuid]||(t[n.uuid]={}),t[n.uuid][n.remoteUserId]={div:i,progress:i.querySelector("progress"),label:i.querySelector("label")},t[n.uuid][n.remoteUserId].progress.max=n.maxChunks},e.onFileProgress=function(e){var i=t[e.uuid];i&&(e.remoteUserId&&(i=t[e.uuid][e.remoteUserId],!i)||(i.progress.value=e.currentPosition||e.maxChunks||i.progress.max,n(i.progress,i.label)))},e.onFileEnd=function(e){var n=t[e.uuid];if(n){if(!e.remoteUserId||(n=t[e.uuid][e.remoteUserId],n)){var i=n.div;-1!=e.type.indexOf("image")?i.innerHTML='<a href="'+e.url+'" download="'+e.name+'">Download <strong style="color:red;">'+e.name+'</strong> </a><br /><img src="'+e.url+'" title="'+e.name+'" style="max-width: 80%;">':i.innerHTML='<a href="'+e.url+'" download="'+e.name+'">Download <strong style="color:red;">'+e.name+'</strong> </a><br /><iframe src="'+e.url+'" title="'+e.name+'" style="width: 80%;border: 0;height: inherit;margin-top:1em;"></iframe>'}}else console.error("No such progress-helper element exist.",e)}}return{handle:e}}(),z=function(){function e(e){e.autoTranslateText=!1,e.language="en",e.googKey="AIzaSyCgB5hmFY74WYB-EoWkhr9cAGr6TiTHrEE",e.Translator={TranslateText:function(t,n){var i=document.createElement("script");i.type="text/javascript";var r=encodeURIComponent(t),o="method"+e.token();window[o]=function(e){e.data&&e.data.translations[0]&&n?n(e.data.translations[0].translatedText):e.error&&"Daily Limit Exceeded"===e.error.message?console.error('Text translation failed. Error message: "Daily Limit Exceeded."'):e.error?console.error(e.error.message):console.error(e)};var s="https://www.googleapis.com/language/translate/v2?key="+e.googKey+"&target="+(e.language||"en-US")+"&callback=window."+o+"&q="+r;i.src=s,document.getElementsByTagName("head")[0].appendChild(i)},getListOfLanguages:function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE){var e=JSON.parse(n.responseText);if(e&&e.data&&e.data.languages)return void t(e.data.languages);if(e.error&&"Daily Limit Exceeded"===e.error.message)return void console.error('Text translation failed. Error message: "Daily Limit Exceeded."');if(e.error)return void console.error(e.error.message);console.error(e)}};var i="https://www.googleapis.com/language/translate/v2/languages?key="+e.googKey+"&target=en";n.open("GET",i,!0),n.send(null)}}}return{handle:e}}();(function(e){a=a||{useDefaultDevices:!0},e.channel=e.sessionid=(s||location.href.replace(/\/|:|#|\?|\$|\^|%|\.|`|~|!|\+|@|\[|\||]|\|*. /g,"").split("\n").join("").split("\r").join(""))+"";var t=new u(e),n={};function i(t){e.deletePeer(t)}function r(t){if(e.socketAutoReConnect=!0,e.socket)t&&t(e.socket);else{if("undefined"===typeof d)if("undefined"!==typeof FirebaseConnection)window.SocketConnection=FirebaseConnection;else{if("undefined"===typeof PubNubConnection)throw"SocketConnection.js seems missed.";window.SocketConnection=PubNubConnection}new d(e,function(n){t&&t(e.socket)})}}function o(n,i){e.socket.emit("join-room",{sessionid:e.sessionid,session:e.session,mediaConstraints:e.mediaConstraints,sdpConstraints:e.sdpConstraints,streams:f(),extra:e.extra,password:"undefined"!==typeof e.password&&"object"!==typeof e.password?e.password:""},function(r,o){if(!0===r){if(e.enableLogs&&console.log("isRoomJoined: ",r," roomid: ",e.sessionid),e.peers[e.sessionid])return;t.onNegotiationNeeded(n)}!1===r&&e.enableLogs&&console.warn("isRoomJoined: ",o," roomid: ",e.sessionid),i(r,e.sessionid,o)})}function c(t){e.enableLogs&&console.log("Sending open-room signal to socket.io"),e.waitingForLocalMedia=!1,e.socket.emit("open-room",{sessionid:e.sessionid,session:e.session,mediaConstraints:e.mediaConstraints,sdpConstraints:e.sdpConstraints,streams:f(),extra:e.extra,identifier:e.publicRoomIdentifier,password:"undefined"!==typeof e.password&&"object"!==typeof e.password?e.password:""},function(n,i){!0===n&&(e.enableLogs&&console.log("isRoomOpened: ",n," roomid: ",e.sessionid),t(n,e.sessionid)),!1===n&&(e.enableLogs&&console.warn("isRoomOpened: ",i," roomid: ",e.sessionid),t(n,e.sessionid,i))})}function f(){try{return e.streamEvents.selectAll("local").map(function(e){return{streamid:e.streamid,tracks:e.stream.getTracks().length}})}catch(t){return[]}}function g(n,i){if(e.dontCaptureUserMedia||n.isDataOnly)i();else{var r={};n.localPeerSdpConstraints.OfferToReceiveAudio&&(r.audio=e.mediaConstraints.audio),n.localPeerSdpConstraints.OfferToReceiveVideo&&(r.video=e.mediaConstraints.video);var o=n.session||e.session;o.oneway&&"two-way"!==o.audio&&"two-way"!==o.video&&"two-way"!==o.screen?i():(o.oneway&&o.audio&&"two-way"===o.audio&&(o={audio:!0}),(o.audio||o.video||o.screen)&&(o.screen?"Edge"===DetectRTC.browser.name?navigator.getDisplayMedia({video:!0,audio:R(e)}).then(function(n){n.isScreen=!0,t.onGettingLocalMedia(n),!o.audio&&!o.video||R(e)?i(n):e.invokeGetUserMedia(null,i)},function(e){console.error("Unable to capture screen on Edge. HTTPs and version 17+ is required.")}):e.invokeGetUserMedia({audio:R(e),video:!0,isScreen:!0},!o.audio&&!o.video||R(e)?i:e.invokeGetUserMedia(null,i)):(o.audio||o.video)&&e.invokeGetUserMedia(null,i,o)))}}function w(t,n){t?(n.audio&&C(t,"audio").forEach(function(e){e.applyConstraints(n.audio)}),n.video&&C(t,"video").forEach(function(e){e.applyConstraints(n.video)})):e.enableLogs&&console.error("No stream to applyConstraints.")}function b(n,i,r){i?t.replaceTrack(n,i,r):e.peers.getAllParticipants().forEach(function(e){t.replaceTrack(n,e,r)})}t.onGettingLocalMedia=function(t,i){if(i=i||function(){},n[t.streamid])i();else{n[t.streamid]=!0;try{t.type="local"}catch(r){}e.setStreamEndHandler(t),h(t,function(n){n.id=t.streamid,n.muted=!0,n.volume=0,-1===e.attachStreams.indexOf(t)&&e.attachStreams.push(t),"undefined"!==typeof F&&F.setHandlers(t,!0,e),e.streamEvents[t.streamid]={stream:t,type:"local",mediaElement:n,userid:e.userid,extra:e.extra,streamid:t.streamid,isAudioMuted:!0};try{l(e,e.streamEvents[t.streamid]),p(e,e.streamEvents[t.streamid]),e.onstream(e.streamEvents[t.streamid])}catch(r){}i()},e)}},t.onGettingRemoteMedia=function(t,n){try{t.type="remote"}catch(i){}e.setStreamEndHandler(t,"remote-stream"),h(t,function(i){i.id=t.streamid,"undefined"!==typeof F&&F.setHandlers(t,!1,e),e.streamEvents[t.streamid]={stream:t,type:"remote",userid:n,extra:e.peers[n]?e.peers[n].extra:{},mediaElement:i,streamid:t.streamid},p(e,e.streamEvents[t.streamid]),e.onstream(e.streamEvents[t.streamid])},e)},t.onRemovingRemoteMedia=function(t,n){var i=e.streamEvents[t.streamid];i||(i={stream:t,type:"remote",userid:n,extra:e.peers[n]?e.peers[n].extra:{},streamid:t.streamid,mediaElement:e.streamEvents[t.streamid]?e.streamEvents[t.streamid].mediaElement:null}),e.peersBackup[i.userid]&&(i.extra=e.peersBackup[i.userid].extra),e.onstreamended(i),delete e.streamEvents[t.streamid]},t.onNegotiationNeeded=function(t,n,i){i=i||function(){},n=n||t.remoteUserId,t=t||"";var o={remoteUserId:n,message:t,sender:e.userid};t.remoteUserId&&t.message&&t.sender&&(o=t),r(function(){e.socket.emit(e.socketMessageEvent,o,i)})},t.onUserLeft=i,t.disconnectWith=function(t,n){e.socket&&e.socket.emit("disconnect-with",t,n||function(){}),e.deletePeer(t)},e.socketOptions={transport:"polling"},e.openOrJoin=function(t,n){n=n||function(){},e.checkPresence(t,function(t,i){if(t){e.sessionid=i;var r=!1,s=!1,a=!!e.session.oneway,d=y(e.session);s={OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},r={OfferToReceiveAudio:a?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:a?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo};var u={remoteUserId:e.sessionid,message:{newParticipationRequest:!0,isOneWay:a,isDataOnly:d,localPeerSdpConstraints:r,remotePeerSdpConstraints:s},sender:e.userid};g(u.message,function(){o(u,n)})}else e.waitingForLocalMedia=!0,e.isInitiator=!0,e.sessionid=i||e.sessionid,y(e.session)?c(n):e.captureUserMedia(function(){c(n)})})},e.waitingForLocalMedia=!1,e.open=function(t,n){n=n||function(){},e.waitingForLocalMedia=!0,e.isInitiator=!0,e.sessionid=t||e.sessionid,r(function(){y(e.session)?c(n):e.captureUserMedia(function(){c(n)})})},e.peersBackup={},e.deletePeer=function(t){if(t&&e.peers[t]){var n={userid:t,extra:e.peers[t]?e.peers[t].extra:{}};if(e.peersBackup[n.userid]&&(n.extra=e.peersBackup[n.userid].extra),e.onleave(n),e.peers[t]){e.peers[t].streams.forEach(function(e){e.stop()});var i=e.peers[t].peer;if(i&&"closed"!==i.iceConnectionState)try{i.close()}catch(r){}e.peers[t]&&(e.peers[t].peer=null,delete e.peers[t])}}},e.rejoin=function(t){if(!e.isInitiator&&t&&Object.keys(t).length){var n={};e.peers[t.remoteUserId]&&(n=e.peers[t.remoteUserId].extra,e.deletePeer(t.remoteUserId)),t&&t.remoteUserId&&(e.join(t.remoteUserId),e.onReConnecting({userid:t.remoteUserId,extra:n}))}},e.join=function(t,n){e.sessionid=!!t&&(t.sessionid||t.remoteUserId||t)||e.sessionid,e.sessionid+="";var i=!1,s=!1,a=!1,c=!1;if(t&&t.session||!t||"string"===typeof t){var d=t&&t.session||e.session;a=!!d.oneway,c=y(d),s={OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},i={OfferToReceiveAudio:a?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:a?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo}}n=n||{};var u=function(){};"function"===typeof n&&(u=n,n={}),"undefined"!==typeof n.localPeerSdpConstraints&&(i=n.localPeerSdpConstraints),"undefined"!==typeof n.remotePeerSdpConstraints&&(s=n.remotePeerSdpConstraints),"undefined"!==typeof n.isOneWay&&(a=n.isOneWay),"undefined"!==typeof n.isDataOnly&&(c=n.isDataOnly);var f={remoteUserId:e.sessionid,message:{newParticipationRequest:!0,isOneWay:a,isDataOnly:c,localPeerSdpConstraints:i,remotePeerSdpConstraints:s},sender:e.userid};return g(f.message,function(){r(function(){o(f,u)})}),f},e.publicRoomIdentifier="",e.getUserMedia=e.captureUserMedia=function(n,i){n=n||function(){};var r=i||e.session;e.dontCaptureUserMedia||y(r)?n():(r.audio||r.video||r.screen)&&(r.screen?"Edge"===DetectRTC.browser.name?navigator.getDisplayMedia({video:!0,audio:R(e)}).then(function(o){if(o.isScreen=!0,t.onGettingLocalMedia(o),!r.audio&&!r.video||R(e))n(o);else{var s={};for(var a in r)"screen"!==a&&(s[a]=r[a]);e.invokeGetUserMedia(i,n,s)}},function(e){console.error("Unable to capture screen on Edge. HTTPs and version 17+ is required.")}):e.invokeGetUserMedia({audio:R(e),video:!0,isScreen:!0},function(t){if(!r.audio&&!r.video||R(e))n(t);else{var o={};for(var s in r)"screen"!==s&&(o[s]=r[s]);e.invokeGetUserMedia(i,n,o)}}):(r.audio||r.video)&&e.invokeGetUserMedia(i,n,r))},e.onbeforeunload=function(n,i){e.closeBeforeUnload&&(e.peers.getAllParticipants().forEach(function(n){t.onNegotiationNeeded({userLeft:!0},n),e.peers[n]&&e.peers[n].peer&&e.peers[n].peer.close(),delete e.peers[n]}),i||e.closeSocket(),e.isInitiator=!1)},window.ignoreBeforeUnload?e.closeBeforeUnload=!1:(e.closeBeforeUnload=!0,window.addEventListener("beforeunload",e.onbeforeunload,!1)),e.userid=m(),e.changeUserId=function(t,n){n=n||function(){},e.userid=t||m(),e.socket.emit("changed-uuid",e.userid,n)},e.extra={},e.attachStreams=[],e.session={audio:!0,video:!0},e.enableFileSharing=!1,e.bandwidth={screen:!1,audio:!1,video:!1},e.codecs={audio:"opus",video:"VP9"},e.processSdp=function(t){return E()?t:"Safari"===DetectRTC.browser.name?t:("VP8"===e.codecs.video.toUpperCase()&&(t=L.preferCodec(t,"vp8")),"VP9"===e.codecs.video.toUpperCase()&&(t=L.preferCodec(t,"vp9")),"H264"===e.codecs.video.toUpperCase()&&(t=L.preferCodec(t,"h264")),"G722"===e.codecs.audio&&(t=L.removeNonG722(t)),"Firefox"===DetectRTC.browser.name?t:((e.bandwidth.video||e.bandwidth.screen)&&(t=L.setApplicationSpecificBandwidth(t,e.bandwidth,!!e.session.screen)),e.bandwidth.video&&(t=L.setVideoBitrates(t,{min:8*e.bandwidth.video*1024,max:8*e.bandwidth.video*1024})),e.bandwidth.audio&&(t=L.setOpusAttributes(t,{maxaveragebitrate:8*e.bandwidth.audio*1024,maxplaybackrate:8*e.bandwidth.audio*1024,stereo:1,maxptime:3})),t))},"undefined"!==typeof L&&(e.BandwidthHandler=e.CodecsHandler=L),e.mediaConstraints={audio:{mandatory:{},optional:e.bandwidth.audio?[{bandwidth:8*e.bandwidth.audio*1024||1048576}]:[]},video:{mandatory:{},optional:e.bandwidth.video?[{bandwidth:8*e.bandwidth.video*1024||1048576},{facingMode:"user"}]:[{facingMode:"user"}]}},"Firefox"===DetectRTC.browser.name&&(e.mediaConstraints={audio:!0,video:!0}),a.useDefaultDevices||DetectRTC.isMobileDevice||DetectRTC.load(function(){var t,n;if(DetectRTC.MediaDevices.forEach(function(i){"audioinput"===i.kind&&!1!==e.mediaConstraints.audio&&(t=i),"videoinput"===i.kind&&!1!==e.mediaConstraints.video&&(n=i)}),t){if("Firefox"===DetectRTC.browser.name)return void(!0!==e.mediaConstraints.audio?e.mediaConstraints.audio.deviceId=t.id:e.mediaConstraints.audio={deviceId:t.id});1==e.mediaConstraints.audio&&(e.mediaConstraints.audio={mandatory:{},optional:[]}),e.mediaConstraints.audio.optional||(e.mediaConstraints.audio.optional=[]);var i=[{sourceId:t.id}];e.mediaConstraints.audio.optional=i.concat(e.mediaConstraints.audio.optional)}if(n){if("Firefox"===DetectRTC.browser.name)return void(!0!==e.mediaConstraints.video?e.mediaConstraints.video.deviceId=n.id:e.mediaConstraints.video={deviceId:n.id});1==e.mediaConstraints.video&&(e.mediaConstraints.video={mandatory:{},optional:[]}),e.mediaConstraints.video.optional||(e.mediaConstraints.video.optional=[]);i=[{sourceId:n.id}];e.mediaConstraints.video.optional=i.concat(e.mediaConstraints.video.optional)}}),e.sdpConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},optional:[{VoiceActivityDetection:!1}]},e.sdpSemantics=null,e.iceCandidatePoolSize=null,e.bundlePolicy=null,e.rtcpMuxPolicy=null,e.iceTransportPolicy=null,e.optionalArgument={optional:[{DtlsSrtpKeyAgreement:!0},{googImprovedWifiBwe:!0},{googScreencastMinBitrate:300},{googIPv6:!0},{googDscp:!0},{googCpuUnderuseThreshold:55},{googCpuOveruseThreshold:85},{googSuspendBelowMinBitrate:!0},{googCpuOveruseDetection:!0}],mandatory:{}},e.iceServers=B.getIceServers(e),e.candidates={host:!0,stun:!0,turn:!0},e.iceProtocols={tcp:!0,udp:!0},e.onopen=function(t){e.enableLogs&&console.info("Data connection has been opened between you & ",t.userid)},e.onclose=function(t){e.enableLogs&&console.warn("Data connection has been closed between you & ",t.userid)},e.onerror=function(t){e.enableLogs&&console.error(t.userid,"data-error",t)},e.onmessage=function(t){e.enableLogs&&console.debug("data-message",t.userid,t.data)},e.send=function(t,n){e.peers.send(t,n)},e.close=e.disconnect=e.leave=function(){e.onbeforeunload(!1,!0)},e.closeEntireSession=function(t){t=t||function(){},e.socket.emit("close-entire-session",function n(){e.getAllParticipants().length?setTimeout(n,100):(e.onEntireSessionClosed({sessionid:e.sessionid,userid:e.userid,extra:e.extra}),e.changeUserId(null,function(){e.close(),t()}))})},e.onEntireSessionClosed=function(t){e.enableLogs&&console.info("Entire session is closed: ",t.sessionid,t.extra)},e.onstream=function(t){var n=e.videosContainer;n.insertBefore(t.mediaElement,n.firstChild);var i=t.mediaElement.play();"undefined"===typeof i?setTimeout(function(){t.mediaElement.play()},2e3):i.catch(function(){}).then(function(){setTimeout(function(){t.mediaElement.play()},2e3)})},e.onstreamended=function(e){e.mediaElement||(e.mediaElement=document.getElementById(e.streamid)),e.mediaElement&&e.mediaElement.parentNode&&e.mediaElement.parentNode.removeChild(e.mediaElement)},e.direction="many-to-many",e.removeStream=function(t,n){var i;e.attachStreams.forEach(function(e){e.id===t&&(i=e)}),i?(e.peers.getAllParticipants().forEach(function(t){if(!n||t===n){var r=e.peers[t];try{r.peer.removeStream(i)}catch(o){}}}),e.renegotiate()):console.warn("No such stream exist.",t)},e.addStream=function(n,i){if(n.getTracks)return-1===e.attachStreams.indexOf(n)&&(n.streamid||(n.streamid=n.id),e.attachStreams.push(n)),void e.renegotiate(i);function r(t){n.streamCallback&&n.streamCallback(t),e.renegotiate(i)}y(n)?e.renegotiate(i):(n.audio||n.video||n.screen)&&(n.screen?"Edge"===DetectRTC.browser.name?navigator.getDisplayMedia({video:!0,audio:R(e)}).then(function(i){i.isScreen=!0,t.onGettingLocalMedia(i),!n.audio&&!n.video||R(e)?r(i):e.invokeGetUserMedia(null,function(e){r(e)})},function(e){console.error("Unable to capture screen on Edge. HTTPs and version 17+ is required.")}):e.invokeGetUserMedia({audio:R(e),video:!0,isScreen:!0},function(t){!n.audio&&!n.video||R(e)?r(t):e.invokeGetUserMedia(null,function(e){r(e)})}):(n.audio||n.video)&&e.invokeGetUserMedia(null,r))},e.invokeGetUserMedia=function(n,i,r){r||(r=e.session),n||(n=e.mediaConstraints),_({onGettingLocalMedia:function(e){var r=n.video;r&&(r.mediaSource||r.mozMediaSource?e.isScreen=!0:r.mandatory&&r.mandatory.chromeMediaSource&&(e.isScreen=!0)),e.isScreen||(e.isVideo=!!C(e,"video").length,e.isAudio=!e.isVideo&&C(e,"audio").length),t.onGettingLocalMedia(e,function(){"function"===typeof i&&i(e)})},onLocalMediaError:function(e,n){t.onLocalMediaError(e,n)},localMediaConstraints:n||{audio:!!r.audio&&n.audio,video:!!r.video&&n.video}})},e.applyConstraints=function(t,n){if(U&&U.prototype.applyConstraints){var i;if(n)return e.streamEvents[n]&&(i=e.streamEvents[n].stream),void w(i,t);e.attachStreams.forEach(function(e){w(e,t)})}else alert("track.applyConstraints is NOT supported in your browser.")},e.replaceTrack=function(n,i,r){if(n=n||{},T.prototype.getSenders)if(n instanceof U)b(n,i,r);else{if(n instanceof S)return C(n,"video").length&&b(C(n,"video")[0],i,!0),void(C(n,"audio").length&&b(C(n,"audio")[0],i,!1));if(y(n))throw"connection.replaceTrack requires audio and/or video and/or screen.";(n.audio||n.video||n.screen)&&(n.screen?"Edge"===DetectRTC.browser.name?navigator.getDisplayMedia({video:!0,audio:R(e)}).then(function(i){i.isScreen=!0,t.onGettingLocalMedia(i),!n.audio&&!n.video||R(e)?o(i):e.invokeGetUserMedia(null,o)},function(e){console.error("Unable to capture screen on Edge. HTTPs and version 17+ is required.")}):e.invokeGetUserMedia({audio:R(e),video:!0,isScreen:!0},!n.audio&&!n.video||R(e)?o:e.invokeGetUserMedia(null,o)):(n.audio||n.video)&&e.invokeGetUserMedia(null,o))}else e.addStream(n);function o(t){e.replaceTrack(t,i,r||n.video||n.screen)}},e.resetTrack=function(t,n){t||(t=e.getAllParticipants()),"string"==typeof t&&(t=[t]),t.forEach(function(t){var i=e.peers[t].peer;"undefined"!==typeof n&&!0!==n||!i.lastVideoTrack||e.replaceTrack(i.lastVideoTrack,t,!0),"undefined"!==typeof n&&!1!==n||!i.lastAudioTrack||e.replaceTrack(i.lastAudioTrack,t,!1)})},e.renegotiate=function(n){n?t.renegotiatePeer(n):e.peers.getAllParticipants().forEach(function(e){t.renegotiatePeer(e)})},e.setStreamEndHandler=function(t,n){if(t&&t.addEventListener&&(n=!!n,!t.alreadySetEndHandler)){t.alreadySetEndHandler=!0;var i="ended";"oninactive"in t&&(i="inactive"),t.addEventListener(i,function(){if(t.idInstance&&currentUserMediaRequest.remove(t.idInstance),!n){var i=[];e.attachStreams.forEach(function(e){e.id!=t.id&&i.push(e)}),e.attachStreams=i}var r=e.streamEvents[t.streamid];if(r||(r={stream:t,streamid:t.streamid,type:n?"remote":"local",userid:e.userid,extra:e.extra,mediaElement:e.streamEvents[t.streamid]?e.streamEvents[t.streamid].mediaElement:null}),n&&e.peers[r.userid]){var o=e.peers[r.userid].peer;i=[];o.getRemoteStreams().forEach(function(e){e.id!=t.id&&i.push(e)}),e.peers[r.userid].streams=i}r.userid===e.userid&&"remote"===r.type||(e.peersBackup[r.userid]&&(r.extra=e.peersBackup[r.userid].extra),e.onstreamended(r),delete e.streamEvents[t.streamid])},!1)}},e.onMediaError=function(t,n){e.enableLogs&&console.error(t,n)},e.autoCloseEntireSession=!1,e.filesContainer=e.videosContainer=document.body||document.documentElement,e.isInitiator=!1,e.shareFile=t.shareFile,"undefined"!==typeof V&&V.handle(e),"undefined"!==typeof z&&z.handle(e),e.token=m,e.onNewParticipant=function(t,n){e.acceptParticipationRequest(t,n)},e.acceptParticipationRequest=function(e,n){n.successCallback&&(n.successCallback(),delete n.successCallback),t.createNewPeer(e,n)},"undefined"!==typeof F&&(e.StreamsHandler=F),e.onleave=function(e){},e.invokeSelectFileDialog=function(e){var t=new FileSelector;t.accept="*.*",t.selectSingleFile(e)},e.onmute=function(e){if(e&&e.mediaElement)if("both"===e.muteType||"video"===e.muteType){e.mediaElement.src=null;var t=e.mediaElement.pause();"undefined"!==typeof t?t.then(function(){e.mediaElement.poster=e.snapshot||"https://cdn.webrtc-experiment.com/images/muted.png"}):e.mediaElement.poster=e.snapshot||"https://cdn.webrtc-experiment.com/images/muted.png"}else"audio"===e.muteType&&(e.mediaElement.muted=!0)},e.onunmute=function(e){e&&e.mediaElement&&e.stream&&("both"===e.unmuteType||"video"===e.unmuteType?(e.mediaElement.poster=null,e.mediaElement.srcObject=e.stream,e.mediaElement.play()):"audio"===e.unmuteType&&(e.mediaElement.muted=!1))},e.onExtraDataUpdated=function(t){t.status="online",e.onUserStatusChanged(t,!0)},e.getAllParticipants=function(t){return e.peers.getAllParticipants(t)},"undefined"!==typeof F&&(F.onSyncNeeded=function(n,i,r){e.peers.getAllParticipants().forEach(function(e){t.onNegotiationNeeded({streamid:n,action:i,streamSyncNeeded:!0,type:r||"both"},e)})}),e.connectSocket=function(e){r(e)},e.closeSocket=function(){try{io.sockets={}}catch(t){}e.socket&&("function"===typeof e.socket.disconnect&&e.socket.disconnect(),"function"===typeof e.socket.resetProps&&e.socket.resetProps(),e.socket=null)},e.getSocket=function(t){return!t&&e.enableLogs&&console.warn("getSocket.callback paramter is required."),t=t||function(){},e.socket?t(e.socket):r(function(){t(e.socket)}),e.socket},e.getRemoteStreams=t.getRemoteStreams;var k=["selectFirst","selectAll","forEach"];if(e.streamEvents={selectFirst:function(t){return e.streamEvents.selectAll(t)[0]},selectAll:function(t){t||(t={local:!0,remote:!0,isScreen:!0,isAudio:!0,isVideo:!0}),"local"==t&&(t={local:!0}),"remote"==t&&(t={remote:!0}),"screen"==t&&(t={isScreen:!0}),"audio"==t&&(t={isAudio:!0}),"video"==t&&(t={isVideo:!0});var n=[];return Object.keys(e.streamEvents).forEach(function(i){var r=e.streamEvents[i];if(-1===k.indexOf(i)){var o=!0;t.local&&"local"===r.type&&(o=!1),t.remote&&"remote"===r.type&&(o=!1),t.isScreen&&r.stream.isScreen&&(o=!1),t.isVideo&&r.stream.isVideo&&(o=!1),t.isAudio&&r.stream.isAudio&&(o=!1),t.userid&&r.userid===t.userid&&(o=!1),!1===o&&n.push(r)}}),n}},e.socketURL="/",e.socketMessageEvent="RTCMultiConnection-Message",e.socketCustomEvent="RTCMultiConnection-Custom-Message",e.DetectRTC=DetectRTC,e.setCustomSocketEvent=function(t){t&&(e.socketCustomEvent=t),e.socket&&e.socket.emit("set-custom-socket-event-listener",e.socketCustomEvent)},e.getNumberOfBroadcastViewers=function(t,n){e.socket&&t&&n&&e.socket.emit("get-number-of-users-in-specific-broadcast",t,n)},e.onNumberOfBroadcastViewersUpdated=function(t){e.enableLogs&&e.isInitiator&&console.info("Number of broadcast (",t.broadcastId,") viewers",t.numberOfBroadcastViewers)},e.onUserStatusChanged=function(t,n){e.enableLogs&&!n&&console.info(t.userid,t.status)},e.getUserMediaHandler=_,e.multiPeersHandler=t,e.enableLogs=!0,e.setCustomSocketHandler=function(e){"undefined"!==typeof d&&(d=e)},e.chunkSize=4e4,e.maxParticipantsAllowed=1e3,e.disconnectWith=t.disconnectWith,e.checkPresence=function(t,n){t=t||e.sessionid,"SSEConnection"!==d.name?e.socket?e.socket.emit("check-presence",t+"",function(t,i,r){e.enableLogs&&console.log("checkPresence.isRoomExist: ",t," roomid: ",i),n(t,i,r)}):e.connectSocket(function(){e.checkPresence(t,n)}):SSEConnection.checkPresence(t,function(t,i,r){if(!e.socket)return t||(e.userid=i),void e.connectSocket(function(){n(t,i,r)});n(t,i)})},e.onReadyForOffer=function(t,n){e.multiPeersHandler.createNewPeer(t,n)},e.setUserPreferences=function(t){return e.dontAttachStream&&(t.dontAttachLocalStream=!0),e.dontGetRemoteStream&&(t.dontGetRemoteStream=!0),t},e.updateExtraData=function(){e.socket.emit("extra-data-updated",e.extra)},e.enableScalableBroadcast=!1,e.maxRelayLimitPerUser=3,e.dontCaptureUserMedia=!1,e.dontAttachStream=!1,e.dontGetRemoteStream=!1,e.onReConnecting=function(t){e.enableLogs&&console.info("ReConnecting with",t.userid,"...")},e.beforeAddingStream=function(e){return e},e.beforeRemovingStream=function(e){return e},"undefined"!==typeof isChromeExtensionAvailable&&(e.checkIfChromeExtensionAvailable=isChromeExtensionAvailable),"undefined"!==typeof isFirefoxExtensionAvailable&&(e.checkIfChromeExtensionAvailable=isFirefoxExtensionAvailable),"undefined"!==typeof getChromeExtensionStatus&&(e.getChromeExtensionStatus=getChromeExtensionStatus),e.modifyScreenConstraints=function(e){return e},e.onPeerStateChanged=function(t){e.enableLogs&&-1!==t.iceConnectionState.search(/closed|failed/gi)&&console.error("Peer connection is closed between you & ",t.userid,t.extra,"state:",t.iceConnectionState)},e.isOnline=!0,v("online",function(){e.isOnline=!0}),v("offline",function(){e.isOnline=!1}),e.isLowBandwidth=!1,navigator&&navigator.connection&&navigator.connection.type&&(e.isLowBandwidth=-1!==navigator.connection.type.toString().toLowerCase().search(/wifi|cell/g),e.isLowBandwidth)){if(e.bandwidth={audio:!1,video:!1,screen:!1},e.mediaConstraints.audio&&e.mediaConstraints.audio.optional&&e.mediaConstraints.audio.optional.length){var A=[];e.mediaConstraints.audio.optional.forEach(function(e){"undefined"===typeof e.bandwidth&&A.push(e)}),e.mediaConstraints.audio.optional=A}if(e.mediaConstraints.video&&e.mediaConstraints.video.optional&&e.mediaConstraints.video.optional.length){A=[];e.mediaConstraints.video.optional.forEach(function(e){"undefined"===typeof e.bandwidth&&A.push(e)}),e.mediaConstraints.video.optional=A}}e.getExtraData=function(t,n){if(!t)throw"remoteUserId is required.";if("function"!==typeof n)return e.peers[t]?e.peers[t].extra:e.peersBackup[t]?e.peersBackup[t].extra:{};e.socket.emit("get-remote-user-extra-data",t,function(e,t,i){n(e,t,i)})},a.autoOpenOrJoin&&e.openOrJoin(e.sessionid),e.onUserIdAlreadyTaken=function(t,n){e.close(),e.closeSocket(),e.isInitiator=!1,e.userid=e.token(),e.join(e.sessionid),e.enableLogs&&console.warn("Userid already taken.",t,"Your new userid:",e.userid)},e.trickleIce=!0,e.version="3.6.9",e.onSettingLocalDescription=function(t){e.enableLogs&&console.info("Set local description for remote user",t.userid)},e.resetScreen=function(){sourceId=null,DetectRTC&&DetectRTC.screen&&delete DetectRTC.screen.sourceId,currentUserMediaRequest={streams:[],mutex:!1,queueRequests:[]}},e.autoCreateMediaElement=!0,e.password=null,e.setPassword=function(t,n){n=n||function(){},e.socket?e.socket.emit("set-password",t,n):(e.password=t,n(!0,e.sessionid,null))},e.onSocketDisconnect=function(t){e.enableLogs&&console.warn("socket.io connection is closed")},e.onSocketError=function(t){e.enableLogs&&console.warn("socket.io connection is failed")},e.errors={ROOM_NOT_AVAILABLE:"Room not available",INVALID_PASSWORD:"Invalid password",USERID_NOT_AVAILABLE:"User ID does not exist",ROOM_PERMISSION_DENIED:"Room permission denied",ROOM_FULL:"Room full",DID_NOT_JOIN_ANY_ROOM:"Did not join any room yet",INVALID_SOCKET:"Invalid socket",PUBLIC_IDENTIFIER_MISSING:"publicRoomIdentifier is required",INVALID_ADMIN_CREDENTIAL:"Invalid username or password attempted"}})(this)};e.exports=t=s,r=[],o=function(){return s}.apply(t,r),void 0===o||(e.exports=o)}).call(this,n("c8ba"),n("f28c"))},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e6d0:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("This is the title screen")]),n("a",{on:{click:e.startBattleMode}},[e._v("Battle Mode")]),n("br"),n("a",{on:{click:e.startPartyMode}},[e._v("Party Mode")]),e._m(0)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"overlay"}),n("button",{staticClass:"btn-select-file",attrs:{id:"btn-select-file"}}),n("iframe"),n("header",[n("div",{staticClass:"ribbon"},[n("div",{staticClass:"ribbon-stitches-top"}),n("strong",{staticClass:"ribbon-content"},[n("h1",[n("input",{attrs:{type:"text",id:"room-id",placeholder:"room-id"}}),n("button",{attrs:{id:"join-room"}},[e._v("Join")])])]),n("div",{staticClass:"ribbon-stitches-bottom"})])]),n("div",{attrs:{id:"number-of-users",title:"Number of online users."}},[e._v("0")]),n("div",{attrs:{id:"logs"}},[n("p",[e._v("\n        Peer-to-Peer (private) file sharing.\n      ")]),n("p",[e._v("\n        You can share/receive files from any platform/device e.g. destkop operating systems, Android, iOS etc.\n      ")]),n("p",[e._v('\n        Create or join a room & select file using "+" button.\n      ')])]),n("a",{staticClass:"chrome-web-store-icon",attrs:{href:"https://chrome.google.com/webstore/detail/webrtc-file-sharing/nbnncbdkhpmbnkfngmkdbepoemljbnfo",target:"_blank",title:"Install Chrome Desktop Extension"}}),n("a",{staticClass:"android-app-icon",attrs:{href:"https://play.google.com/store/apps/details?id=com.webrtc.experiment",target:"_blank",title:"Install Android App"}})])}],o=(n("5df3"),n("1c4c"),n("386d"),n("4917"),n("ac6a"),n("28a5"),n("7f7f"),n("6b54"),n("a481"),n("01c4")),s=n("5f86"),a={name:"title-screen",mounted:function(){window.getExternalIceServers=!0,window.onerror=console.error=function(){var e=JSON.stringify(arguments);-1===e.indexOf("Blocked a frame with origin")&&alert("Error:\n"+e)};var e,t=document.getElementById("btn-select-file");function i(i){var o,s=document.querySelector("iframe");t.onclick=function(e){if(e&&(e instanceof File||e instanceof Blob)&&e.size)return g(e),void l(e);var t=new r;t.selectSingleFile(function(e){g(e),l(e)})};var a="",c=6e4;function d(){if(!e){var t=n("cd68");n("978b");e=new t,e.fileReceived={},e.socketURL="https://rtcmulticonnection.herokuapp.com:443/",e.socketMessageEvent="file-sharing-demo",e.chunkSize=c,e.sdpConstraints.mandatory={OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},e.enableFileSharing=!0,a&&a.length&&(e.userid=a),e.channel=e.sessionid=i,e.session={data:!0},e.iceServers=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun.l.google.com:19302?transport=udp"]}],e.filesContainer=h,e.connectedWith={},e.onmessage=function(t){t.data.doYouWannaReceiveThisFile&&(e.fileReceived[t.data.fileName]||e.send({yesIWannaReceive:!0,fileName:t.data.fileName})),t.data.yesIWannaReceive&&o&&e.shareFile(o,t.userid)},e.onopen=function(t){try{chrome.power.requestKeepAwake("display")}catch(t){}if(!e.connectedWith[t.userid]){e.connectedWith[t.userid]=!0;var n="<b>"+t.userid+"</b><br>is connected.";if(v(n),o){var i=o;setTimeout(function(){v("Sharing file<br><b>"+i.name+"</b><br>Size: <b>"+f(i.size)+"<b><br>With <b>"+e.getAllParticipants().length+"</b> users"),e.send({doYouWannaReceiveThisFile:!0,fileName:i.size+i.name})},500)}}},e.onclose=function(t){m(),e.connectedWith[t.userid]||(v("Data connection has been closed between you and <b>"+t.userid+"</b>. Re-Connecting.."),e.join(i))},e.onerror=function(t){e.connectedWith[t.userid]||v("Data connection failed. between you and <b>"+t.userid+"</b>. Retrying..")},u(e),e.onUserStatusChanged=function(e){m()},e.onleave=function(t){t.status="offline",e.onUserStatusChanged(t),m()};var r="Connecting room:<br><b>"+e.channel+"</b>";v(r),e.openOrJoin(e.channel,function(t,n){var i="Successfully connected to room: <b>"+n+'</b><hr>Other users can join you on iPhone/Android using "'+n+'" or desktop (Windows/MacOSX/Ubuntu) users can join using this (secure/private) URL: <a href="./file-sharing.html#'+n+'" target="_blank">file-sharing.html#'+n+"</a>";v(i),document.getElementById("room-id")&&(innerWidth>500?document.getElementById("room-id").parentNode.innerHTML="Joined room: "+n:document.getElementById("room-id").parentNode.innerHTML="Joined room:<br>"+n),e.getSocket(function(e){e.on("disconnect",function(){v("Seems disconnected.","red")}),e.on("connect",function(){location.reload()}),e.on("error",function(){location.reload()})}),window.addEventListener("offline",function(){v("Seems disconnected.","red")},!1)}),window.connection=e}}function u(e){var t={};function n(e,t){if(-1!==e.position){var n=+e.position.toFixed(2).split(".")[1]||100;t.innerHTML=n+"%"}}e.onFileStart=function(n){if(!e.fileReceived[n.size+n.name]){var i=document.createElement("div");i.style.borderBottom="1px solid black",i.style.padding="2px 4px",i.id=n.uuid;var r="";if(n.userid==e.userid?r+="Sharing with:"+n.remoteUserId:r+="Receiving from:"+n.userid,r+="<br><b>"+n.name+"</b>.",r+="<br>Size: <b>"+f(n.size)+"</b>",r+="<br><label>0%</label> <progress></progress>",n.userid!==e.userid&&(r+='<br><button id="resend">Receive Again?</button>'),i.innerHTML=r,e.filesContainer.insertBefore(i,e.filesContainer.firstChild),n.userid!==e.userid&&i.querySelector("#resend")&&(i.querySelector("#resend").onclick=function(t){t.preventDefault(),this.onclick=function(){},e.fileReceived[n.size+n.name]&&delete e.fileReceived[n.size+n.name],e.send({yesIWannaReceive:!0,fileName:n.name},n.userid),i.parentNode.removeChild(i)}),!n.remoteUserId)return t[n.uuid]={div:i,progress:i.querySelector("progress"),label:i.querySelector("label")},void(t[n.uuid].progress.max=n.maxChunks);t[n.uuid]||(t[n.uuid]={}),t[n.uuid][n.remoteUserId]={div:i,progress:i.querySelector("progress"),label:i.querySelector("label")},t[n.uuid][n.remoteUserId].progress.max=n.maxChunks}},e.onFileProgress=function(i){if(!e.fileReceived[i.size+i.name]){var r=t[i.uuid];r&&(i.remoteUserId&&(r=t[i.uuid][i.remoteUserId],!r)||(r.progress.value=i.currentPosition||i.maxChunks||r.progress.max,n(r.progress,r.label)))}},e.onFileEnd=function(t){if(!e.fileReceived[t.size+t.name]){var n=document.getElementById(t.uuid);if(n&&n.parentNode.removeChild(n),t.remoteUserId!==e.userid){i="Successfully shared file";i+="<br><b>"+t.name+"</b>.",i+="<br>With: <b>"+t.remoteUserId+"</b>.",i+="<br>Size: <b>"+f(t.size)+"</b>.",v(i)}else{g(t),e.fileReceived[t.size+t.name]=t;var i="Successfully received file";i+="<br><b>"+t.name+"</b>.",i+="<br>Size: <b>"+f(t.size)+"</b>.",i+='<br><a href="'+t.url+'" target="_blank" download="'+t.name+'">Download</a>';n=v(i)}}}}function f(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]}function l(t){var n="You selected:<br><b>"+t.name+"</b><br>Size: <b>"+f(t.size)+"</b>";v(n),o=t,e&&e.send({doYouWannaReceiveThisFile:!0,fileName:t.size+t.name})}var p=document.getElementById("number-of-users");function m(){p.innerHTML=e?e.getAllParticipants().length:0}var h=document.getElementById("logs");function v(e,t){var n=document.createElement("div");return n.innerHTML="<p>"+e+"</p>",h.insertBefore(n,h.firstChild),t&&(n.style.color=t),n}function g(e){t.style.left="5px",t.style.right="auto",t.style.zIndex=10,t.style.top="5px",t.style.outline="none",document.querySelector(".overlay").style.display="none",s.style.display="block",s.onload=function(){if(Array.prototype.slice.call(s.contentWindow.document.body.querySelectorAll("*")).forEach(function(e){e.style.maxWidth="100%"}),!e.type||n||e.type.match(/image|video|audio|pdf/g)||-1!==s.src.indexOf("data:image/png")||-1!==s.src.toLowerCase().search(/.png|.jpeg|.jpg|.gif/g))return s.contentWindow.document.body.style.textAlign="center",s.contentWindow.document.body.style.background="black",void(s.contentWindow.document.body.style.color="white");s.contentWindow.document.body.style.textAlign="left",s.contentWindow.document.body.style.background="white",s.contentWindow.document.body.style.color="black"};var n=(e.name||"").toLowerCase().match(/.webm|.wav|.pdf|.txt|.js|.css|.cs|.png|.jpg|.jpeg|.gif/g);s.src=n?URL.createObjectURL(e):"https://www.webrtc-experiment.com/images/unknown-file.png"}window.onerror=console.error=function(){var e=JSON.stringify(arguments);-1===e.indexOf("Blocked a frame with origin")&&v("Error:<br>"+e,"red")},d()}function r(){var e=this,t=function(){};function n(n,r,o){n=n||function(){};var s=document.createElement("input");s.type="file",r&&(s.multiple=!0),o&&(s.webkitdirectory=!0),s.accept=e.accept,s.onclick=function(){s.clickStarted=!0},document.body.onfocus=function(){setTimeout(function(){s.clickStarted&&(s.clickStarted=!1,s.value||t())},500)},s.onchange=function(){if(r){if(!s.files.length)return void console.error("No file selected.");var e=[];return Array.from(s.files).forEach(function(t){t.url=t.webkitRelativePath,e.push(t)}),void n(e)}s.files[0]?(n(s.files[0]),s.parentNode.removeChild(s)):console.error("No file selected.")},s.style.display="none",(document.body||document.documentElement).appendChild(s),i(s)}function i(e){if("function"!==typeof e.click)if("function"!==typeof e.change){if("undefined"!==typeof document.createEvent("Event")){var t=document.createEvent("Event");if("function"===typeof t.initEvent&&"function"===typeof e.dispatchEvent)return t.initEvent("click",!0,!0),void e.dispatchEvent(t)}t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(t)}else e.change();else e.click()}e.selectSingleFile=function(e,i){i&&(t=i),n(e)},e.selectMultipleFiles=function(e,i){i&&(t=i),n(e,!0)},e.selectDirectory=function(e,i){i&&(t=i),n(e,!0,!0)},e.accept="*.*"}window.addEventListener("load",function(){window.localStorage.getItem("room-id")?document.getElementById("room-id").value=window.localStorage.getItem("room-id"):document.getElementById("room-id").value=(100*Math.random()).toString().replace(".",""),location.hash.length>1&&(document.getElementById("room-id").value=location.hash.replace("#","")),document.getElementById("join-room").onclick=t.onclick=function(){document.getElementById("join-room").disabled=!0,document.getElementById("room-id").disabled=!0;var e=document.getElementById("room-id").value;window.localStorage.setItem("room-id",e),i(e)},location.hash.length>1&&(document.getElementById("join-room").disabled=!0,document.getElementById("room-id").disabled=!0,i(location.hash.replace("#","")))}),window.addEventListener("online",function(){location.reload()},!1),document.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},!1),document.addEventListener("drop",function(n){if(n.preventDefault(),n.stopPropagation(),n.dataTransfer.files&&n.dataTransfer.files.length){var i=n.dataTransfer.files[0];e||document.getElementById("join-room").onclick(),t.onclick(i)}},!1)},methods:{startBattleMode:function(){o["d"].SetupBattleModeGame(),s["a"].push("intro-screen")},startPartyMode:function(){o["d"].SetupPartyModeGame(),s["a"].push("intro-screen")}}},c=a,d=(n("065d"),n("2877")),u=Object(d["a"])(c,i,r,!1,null,null,null);t["default"]=u.exports},f1ae:function(e,t,n){"use strict";var i=n("86cc"),r=n("4630");e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},f28c:function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var d,u=[],f=!1,l=-1;function p(){f&&d&&(f=!1,d.length?u=d.concat(u):l=-1,u.length&&m())}function m(){if(!f){var e=a(p);f=!0;var t=u.length;while(t){d=u,u=[];while(++l<t)d&&d[l].run();l=-1,t=u.length}d=null,f=!1,c(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||f||a(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}}]);
//# sourceMappingURL=about.ba9db92f.js.map